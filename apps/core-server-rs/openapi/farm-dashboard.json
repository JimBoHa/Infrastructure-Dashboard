{
  "components": {
    "schemas": {
      "ActionLogResponse": {
        "properties": {
          "action": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "created_at": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "message": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "output_id": {
            "nullable": true,
            "type": "string"
          },
          "schedule_id": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "schedule_id",
          "action",
          "status",
          "created_at"
        ],
        "type": "object"
      },
      "AdoptRequest": {
        "properties": {
          "ip": {
            "nullable": true,
            "type": "string"
          },
          "mac_eth": {
            "nullable": true,
            "type": "string"
          },
          "mac_wifi": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "port": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "restore_from_node_id": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "nullable": true,
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "token"
        ],
        "type": "object"
      },
      "AdoptionCandidate": {
        "properties": {
          "adoption_token": {
            "nullable": true,
            "type": "string"
          },
          "hostname": {
            "nullable": true,
            "type": "string"
          },
          "ip": {
            "nullable": true,
            "type": "string"
          },
          "mac_eth": {
            "nullable": true,
            "type": "string"
          },
          "mac_wifi": {
            "nullable": true,
            "type": "string"
          },
          "port": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "properties": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "service_name": {
            "type": "string"
          }
        },
        "required": [
          "service_name",
          "properties"
        ],
        "type": "object"
      },
      "AdoptionTokenRequest": {
        "properties": {
          "mac_eth": {
            "nullable": true,
            "type": "string"
          },
          "mac_wifi": {
            "nullable": true,
            "type": "string"
          },
          "metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "service_name": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "AdoptionTokenResponse": {
        "properties": {
          "token": {
            "type": "string"
          }
        },
        "required": [
          "token"
        ],
        "type": "object"
      },
      "AlarmEventResponse": {
        "properties": {
          "alarm_id": {
            "type": "string"
          },
          "anomaly_score": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "created_at": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "incident_id": {
            "nullable": true,
            "type": "string"
          },
          "message": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "origin": {
            "type": "string"
          },
          "rule_id": {
            "nullable": true,
            "type": "string"
          },
          "sensor_id": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "target_key": {
            "nullable": true,
            "type": "string"
          },
          "transition": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "id",
          "alarm_id",
          "status",
          "origin"
        ],
        "type": "object"
      },
      "AlarmResponse": {
        "properties": {
          "anomaly_score": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "last_fired": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "origin": {
            "type": "string"
          },
          "resolved_at": {
            "nullable": true,
            "type": "string"
          },
          "rule": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "rule_id": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "sensor_id": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "target_key": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "rule",
          "status",
          "origin"
        ],
        "type": "object"
      },
      "AlarmRuleDeleteResponse": {
        "properties": {
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "AlarmRulePreviewRequest": {
        "properties": {
          "condition_ast": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "target_selector": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "timing": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          }
        },
        "required": [
          "target_selector",
          "condition_ast"
        ],
        "type": "object"
      },
      "AlarmRulePreviewResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/crate.services.alarm_engine.PreviewTargetResult"
            },
            "type": "array"
          },
          "targets_evaluated": {
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "targets_evaluated",
          "results"
        ],
        "type": "object"
      },
      "AlarmRuleResponse": {
        "properties": {
          "active_count": {
            "format": "int64",
            "type": "integer"
          },
          "condition_ast": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "nullable": true,
            "type": "string"
          },
          "deleted_at": {
            "nullable": true,
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "last_error": {
            "nullable": true,
            "type": "string"
          },
          "last_eval_at": {
            "nullable": true,
            "type": "string"
          },
          "message_template": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "origin": {
            "type": "string"
          },
          "severity": {
            "type": "string"
          },
          "target_selector": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "timing": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "enabled",
          "severity",
          "origin",
          "target_selector",
          "condition_ast",
          "timing",
          "message_template",
          "created_at",
          "updated_at",
          "active_count"
        ],
        "type": "object"
      },
      "AlarmRuleStatsBandSet": {
        "properties": {
          "lower_1": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "lower_2": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "lower_3": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "upper_1": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "upper_2": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "upper_3": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "type": "object"
      },
      "AlarmRuleStatsBands": {
        "properties": {
          "classic": {
            "$ref": "#/components/schemas/AlarmRuleStatsBandSet"
          },
          "robust": {
            "$ref": "#/components/schemas/AlarmRuleStatsBandSet"
          }
        },
        "required": [
          "classic",
          "robust"
        ],
        "type": "object"
      },
      "AlarmRuleStatsRequest": {
        "properties": {
          "bucket_aggregation_mode": {
            "description": "Bucket aggregation mode (auto/avg/last/sum/min/max).",
            "nullable": true,
            "type": "string"
          },
          "end": {
            "description": "End timestamp (RFC3339). If omitted, defaults to now.",
            "nullable": true,
            "type": "string"
          },
          "interval_seconds": {
            "description": "Bucket interval in seconds (optional).",
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "start": {
            "description": "Start timestamp (RFC3339). If omitted, defaults to end - 7 days.",
            "nullable": true,
            "type": "string"
          },
          "target_selector": {
            "$ref": "#/components/schemas/JsonValue"
          }
        },
        "required": [
          "target_selector"
        ],
        "type": "object"
      },
      "AlarmRuleStatsResponse": {
        "properties": {
          "bucket_aggregation_mode": {
            "type": "string"
          },
          "end": {
            "type": "string"
          },
          "interval_seconds": {
            "format": "int64",
            "type": "integer"
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/AlarmRuleStatsSensorResponse"
            },
            "type": "array"
          },
          "start": {
            "type": "string"
          }
        },
        "required": [
          "start",
          "end",
          "interval_seconds",
          "bucket_aggregation_mode",
          "sensors"
        ],
        "type": "object"
      },
      "AlarmRuleStatsSensorResponse": {
        "properties": {
          "bands": {
            "$ref": "#/components/schemas/AlarmRuleStatsBands"
          },
          "coverage_pct": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "interval_seconds": {
            "format": "int64",
            "type": "integer"
          },
          "iqr": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "mad": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "max": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "mean": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "median": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "min": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "missing_pct": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "n": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "p01": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "p05": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "p25": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "p75": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "p95": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "p99": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "sensor_id": {
            "type": "string"
          },
          "stddev": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "unit": {
            "type": "string"
          }
        },
        "required": [
          "sensor_id",
          "unit",
          "interval_seconds",
          "n",
          "bands"
        ],
        "type": "object"
      },
      "AnalysisJobCancelResponse": {
        "properties": {
          "job": {
            "$ref": "#/components/schemas/AnalysisJobPublic"
          }
        },
        "required": [
          "job"
        ],
        "type": "object"
      },
      "AnalysisJobCreateRequest": {
        "properties": {
          "dedupe": {
            "type": "boolean"
          },
          "job_key": {
            "nullable": true,
            "type": "string"
          },
          "job_type": {
            "type": "string"
          },
          "params": {}
        },
        "required": [
          "job_type"
        ],
        "type": "object"
      },
      "AnalysisJobCreateResponse": {
        "properties": {
          "job": {
            "$ref": "#/components/schemas/AnalysisJobPublic"
          }
        },
        "required": [
          "job"
        ],
        "type": "object"
      },
      "AnalysisJobError": {
        "properties": {
          "code": {
            "type": "string"
          },
          "details": {
            "nullable": true
          },
          "message": {
            "type": "string"
          }
        },
        "required": [
          "code",
          "message"
        ],
        "type": "object"
      },
      "AnalysisJobEventPublic": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "payload": {}
        },
        "required": [
          "id",
          "created_at",
          "kind",
          "payload"
        ],
        "type": "object"
      },
      "AnalysisJobEventsResponse": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/AnalysisJobEventPublic"
            },
            "type": "array"
          },
          "next_after": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "events"
        ],
        "type": "object"
      },
      "AnalysisJobProgress": {
        "properties": {
          "completed": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "message": {
            "nullable": true,
            "type": "string"
          },
          "phase": {
            "type": "string"
          },
          "total": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "phase",
          "completed"
        ],
        "type": "object"
      },
      "AnalysisJobPublic": {
        "properties": {
          "canceled_at": {
            "nullable": true,
            "type": "string"
          },
          "completed_at": {
            "nullable": true,
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "nullable": true,
            "type": "string"
          },
          "error": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AnalysisJobError"
              }
            ],
            "nullable": true
          },
          "id": {
            "type": "string"
          },
          "job_key": {
            "nullable": true,
            "type": "string"
          },
          "job_type": {
            "type": "string"
          },
          "progress": {
            "$ref": "#/components/schemas/AnalysisJobProgress"
          },
          "started_at": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/AnalysisJobStatus"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "job_type",
          "status",
          "created_at",
          "updated_at",
          "progress"
        ],
        "type": "object"
      },
      "AnalysisJobResultResponse": {
        "properties": {
          "job_id": {
            "type": "string"
          },
          "result": {}
        },
        "required": [
          "job_id",
          "result"
        ],
        "type": "object"
      },
      "AnalysisJobStatus": {
        "enum": [
          "pending",
          "running",
          "completed",
          "failed",
          "canceled"
        ],
        "type": "string"
      },
      "AnalysisJobStatusResponse": {
        "properties": {
          "job": {
            "$ref": "#/components/schemas/AnalysisJobPublic"
          }
        },
        "required": [
          "job"
        ],
        "type": "object"
      },
      "AnalyticsFeedHistoryEntry": {
        "properties": {
          "category": {
            "type": "string"
          },
          "meta": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "name": {
            "type": "string"
          },
          "recorded_at": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "category",
          "name",
          "status",
          "recorded_at"
        ],
        "type": "object"
      },
      "AnalyticsFeedStatusEntry": {
        "properties": {
          "details": {
            "nullable": true,
            "type": "string"
          },
          "last_seen": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "AnalyticsFeedStatusResponse": {
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "feeds": {
            "additionalProperties": {
              "$ref": "#/components/schemas/AnalyticsFeedStatusEntry"
            },
            "type": "object"
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsFeedHistoryEntry"
            },
            "type": "array"
          }
        },
        "required": [
          "enabled"
        ],
        "type": "object"
      },
      "AnalyticsIndicatorRead": {
        "properties": {
          "context": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "key": {
            "type": "string"
          },
          "recorded_at": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "id",
          "key",
          "value",
          "context",
          "recorded_at"
        ],
        "type": "object"
      },
      "AnalyticsIntegration": {
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "name": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "status"
        ],
        "type": "object"
      },
      "AnalyticsPollResponse": {
        "properties": {
          "feeds": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "AnalyticsPower": {
        "properties": {
          "battery_kwh_168h": {
            "format": "double",
            "type": "number"
          },
          "battery_kwh_24h": {
            "format": "double",
            "type": "number"
          },
          "battery_series_168h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "battery_series_24h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "grid_kwh_168h": {
            "format": "double",
            "type": "number"
          },
          "grid_kwh_24h": {
            "format": "double",
            "type": "number"
          },
          "grid_series_168h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "grid_series_24h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "integrations": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsIntegration"
            },
            "type": "array"
          },
          "kwh_168h": {
            "format": "double",
            "type": "number"
          },
          "kwh_24h": {
            "format": "double",
            "type": "number"
          },
          "live_battery_kw": {
            "format": "double",
            "type": "number"
          },
          "live_grid_kw": {
            "format": "double",
            "type": "number"
          },
          "live_kw": {
            "format": "double",
            "type": "number"
          },
          "live_solar_kw": {
            "format": "double",
            "type": "number"
          },
          "rate_schedule": {
            "$ref": "#/components/schemas/AnalyticsRateSchedule"
          },
          "series_168h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "series_24h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "solar_kwh_168h": {
            "format": "double",
            "type": "number"
          },
          "solar_kwh_24h": {
            "format": "double",
            "type": "number"
          },
          "solar_series_168h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "solar_series_24h": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          }
        },
        "required": [
          "live_kw",
          "live_solar_kw",
          "live_grid_kw",
          "kwh_24h",
          "kwh_168h",
          "series_24h",
          "series_168h",
          "rate_schedule"
        ],
        "type": "object"
      },
      "AnalyticsRateSchedule": {
        "properties": {
          "currency": {
            "nullable": true,
            "type": "string"
          },
          "current_rate": {
            "format": "double",
            "type": "number"
          },
          "data_age_seconds": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "data_status": {
            "nullable": true,
            "type": "string"
          },
          "details": {
            "nullable": true,
            "type": "string"
          },
          "est_monthly_cost": {
            "format": "double",
            "type": "number"
          },
          "provider": {
            "type": "string"
          },
          "recorded_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "provider",
          "current_rate",
          "est_monthly_cost"
        ],
        "type": "object"
      },
      "AnalyticsSoil": {
        "properties": {
          "fields": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsSoilField"
            },
            "type": "array"
          },
          "series": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "series_avg": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "series_max": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "series_min": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          }
        },
        "required": [
          "series"
        ],
        "type": "object"
      },
      "AnalyticsSoilField": {
        "properties": {
          "avg": {
            "format": "double",
            "type": "number"
          },
          "max": {
            "format": "double",
            "type": "number"
          },
          "min": {
            "format": "double",
            "type": "number"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "min",
          "max",
          "avg"
        ],
        "type": "object"
      },
      "AnalyticsStatus": {
        "properties": {
          "alarms_last_168h": {
            "format": "int64",
            "type": "integer"
          },
          "battery_runtime_hours": {
            "format": "double",
            "type": "number"
          },
          "battery_soc": {
            "format": "int64",
            "type": "integer"
          },
          "current_load_kw": {
            "format": "double",
            "type": "number"
          },
          "estimated_runtime_hours": {
            "format": "double",
            "type": "number"
          },
          "feeds": {
            "additionalProperties": {
              "$ref": "#/components/schemas/AnalyticsFeedStatusEntry"
            },
            "type": "object"
          },
          "last_updated": {
            "nullable": true,
            "type": "string"
          },
          "nodes_offline": {
            "format": "int64",
            "type": "integer"
          },
          "nodes_online": {
            "format": "int64",
            "type": "integer"
          },
          "remote_nodes_offline": {
            "format": "int64",
            "type": "integer"
          },
          "remote_nodes_online": {
            "format": "int64",
            "type": "integer"
          },
          "solar_kw": {
            "format": "double",
            "type": "number"
          },
          "storage_capacity_kwh": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "alarms_last_168h",
          "nodes_online",
          "nodes_offline",
          "battery_soc",
          "solar_kw",
          "battery_runtime_hours"
        ],
        "type": "object"
      },
      "AnalyticsTimeSeriesPoint": {
        "properties": {
          "timestamp": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "timestamp",
          "value"
        ],
        "type": "object"
      },
      "AnalyticsWater": {
        "properties": {
          "ag_gal_168h": {
            "format": "double",
            "type": "number"
          },
          "ag_series": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "domestic_gal_168h": {
            "format": "double",
            "type": "number"
          },
          "domestic_gal_24h": {
            "format": "double",
            "type": "number"
          },
          "domestic_series": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          },
          "reservoir_depth": {
            "items": {
              "$ref": "#/components/schemas/AnalyticsTimeSeriesPoint"
            },
            "type": "array"
          }
        },
        "required": [
          "domestic_gal_24h",
          "domestic_gal_168h",
          "ag_gal_168h",
          "reservoir_depth",
          "domestic_series",
          "ag_series"
        ],
        "type": "object"
      },
      "AnnotationResponse": {
        "properties": {
          "chart_state": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "label": {
            "nullable": true,
            "type": "string"
          },
          "sensor_ids": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "time_end": {
            "nullable": true,
            "type": "string"
          },
          "time_start": {
            "nullable": true,
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "chart_state",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "ApiTokenInfo": {
        "properties": {
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "created_at": {
            "type": "string"
          },
          "expires_at": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "last_used_at": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          },
          "revoked_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "id",
          "created_at",
          "capabilities"
        ],
        "type": "object"
      },
      "AppSettingsBundle": {
        "properties": {
          "backup_retention": {
            "$ref": "#/components/schemas/BackupRetentionSnapshot"
          },
          "exported_at": {
            "type": "string"
          },
          "map": {
            "$ref": "#/components/schemas/MapSnapshot"
          },
          "schema_version": {
            "format": "int32",
            "minimum": 0,
            "type": "integer"
          },
          "setup_config": {
            "$ref": "#/components/schemas/SetupConfigSnapshot"
          },
          "setup_credentials": {
            "items": {
              "$ref": "#/components/schemas/SetupCredentialSnapshot"
            },
            "type": "array"
          }
        },
        "required": [
          "schema_version",
          "exported_at",
          "setup_config",
          "setup_credentials",
          "backup_retention",
          "map"
        ],
        "type": "object"
      },
      "AppSettingsImportApplied": {
        "properties": {
          "backup_retention_policies": {
            "minimum": 0,
            "type": "integer"
          },
          "map_features": {
            "minimum": 0,
            "type": "integer"
          },
          "map_layers": {
            "minimum": 0,
            "type": "integer"
          },
          "map_saves": {
            "minimum": 0,
            "type": "integer"
          },
          "setup_config_written": {
            "type": "boolean"
          },
          "setup_credentials": {
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "setup_credentials",
          "backup_retention_policies",
          "map_layers",
          "map_saves",
          "map_features",
          "setup_config_written"
        ],
        "type": "object"
      },
      "AppSettingsImportResponse": {
        "properties": {
          "applied": {
            "$ref": "#/components/schemas/AppSettingsImportApplied"
          },
          "status": {
            "type": "string"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "status",
          "applied",
          "warnings"
        ],
        "type": "object"
      },
      "ApplyNodeSensorsConfigResponse": {
        "properties": {
          "deleted_sensor_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "node_agent_url": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/NodeSensorDraft"
            },
            "type": "array"
          },
          "status": {
            "type": "string"
          },
          "warning": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "status",
          "node_id",
          "sensors",
          "deleted_sensor_ids"
        ],
        "type": "object"
      },
      "ApplyRenogyBt2PresetRequest": {
        "properties": {
          "adapter": {
            "nullable": true,
            "type": "string"
          },
          "bt2_address": {
            "type": "string"
          },
          "connect_timeout_seconds": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "device_name": {
            "nullable": true,
            "type": "string"
          },
          "mode": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RenogyBt2Mode"
              }
            ],
            "nullable": true
          },
          "notify_uuid": {
            "nullable": true,
            "type": "string"
          },
          "poll_interval_seconds": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "request_timeout_seconds": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "service_uuid": {
            "nullable": true,
            "type": "string"
          },
          "unit_id": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "write_uuid": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "bt2_address"
        ],
        "type": "object"
      },
      "ApplyRenogyBt2PresetResponse": {
        "properties": {
          "bt2_address": {
            "type": "string"
          },
          "mode": {
            "$ref": "#/components/schemas/RenogyBt2Mode"
          },
          "node_agent_url": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "poll_interval_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/RenogyPresetSensor"
            },
            "type": "array"
          },
          "status": {
            "type": "string"
          },
          "warning": {
            "nullable": true,
            "type": "string"
          },
          "what_to_check": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "status",
          "node_id",
          "bt2_address",
          "mode",
          "poll_interval_seconds",
          "sensors",
          "what_to_check"
        ],
        "type": "object"
      },
      "AuthBootstrapResponse": {
        "properties": {
          "has_users": {
            "type": "boolean"
          }
        },
        "required": [
          "has_users"
        ],
        "type": "object"
      },
      "AuthMeResponse": {
        "properties": {
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "email": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "source": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "email",
          "role",
          "source",
          "capabilities"
        ],
        "type": "object"
      },
      "BackupFileInfo": {
        "properties": {
          "created_at": {
            "nullable": true,
            "type": "string"
          },
          "date": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "size_bytes": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "date",
          "path"
        ],
        "type": "object"
      },
      "BackupNodeMetadata": {
        "properties": {
          "mesh_role": {
            "nullable": true,
            "type": "string"
          },
          "pending_buffer_messages": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "BackupRetentionPolicySnapshot": {
        "properties": {
          "keep_days": {
            "format": "int32",
            "type": "integer"
          },
          "node_id": {
            "type": "string"
          }
        },
        "required": [
          "node_id",
          "keep_days"
        ],
        "type": "object"
      },
      "BackupRetentionSnapshot": {
        "properties": {
          "default_keep_days": {
            "format": "int32",
            "type": "integer"
          },
          "policies": {
            "items": {
              "$ref": "#/components/schemas/BackupRetentionPolicySnapshot"
            },
            "type": "array"
          }
        },
        "required": [
          "default_keep_days",
          "policies"
        ],
        "type": "object"
      },
      "BackupRunResponse": {
        "properties": {
          "reason": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "BackupSummary": {
        "properties": {
          "backups": {
            "items": {
              "$ref": "#/components/schemas/BackupFileInfo"
            },
            "type": "array"
          },
          "metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/BackupNodeMetadata"
              }
            ],
            "nullable": true
          },
          "node_id": {
            "type": "string"
          },
          "node_name": {
            "type": "string"
          },
          "retention_days": {
            "format": "int32",
            "type": "integer"
          }
        },
        "required": [
          "node_id",
          "node_name",
          "retention_days",
          "backups"
        ],
        "type": "object"
      },
      "BatteryChemistry": {
        "enum": [
          "lifepo4",
          "lead_acid"
        ],
        "type": "string"
      },
      "BatteryConfigRequest": {
        "properties": {
          "battery_model": {
            "$ref": "#/components/schemas/BatteryModelConfig"
          }
        },
        "required": [
          "battery_model"
        ],
        "type": "object"
      },
      "BatteryConfigResponse": {
        "properties": {
          "battery_model": {
            "$ref": "#/components/schemas/BatteryModelConfig"
          },
          "node_id": {
            "type": "string"
          },
          "resolved_sticker_capacity_ah": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "resolved_sticker_capacity_source": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "node_id",
          "battery_model"
        ],
        "type": "object"
      },
      "BatteryModelConfig": {
        "properties": {
          "capacity_estimation": {
            "$ref": "#/components/schemas/CapacityEstimationConfig"
          },
          "chemistry": {
            "$ref": "#/components/schemas/BatteryChemistry"
          },
          "current_sign": {
            "$ref": "#/components/schemas/CurrentSignMode"
          },
          "enabled": {
            "type": "boolean"
          },
          "rest_current_abs_a": {
            "format": "double",
            "type": "number"
          },
          "rest_minutes_required": {
            "format": "int64",
            "type": "integer"
          },
          "soc_anchor_max_step_percent": {
            "format": "double",
            "type": "number"
          },
          "soc_anchor_mode": {
            "$ref": "#/components/schemas/SocAnchorMode"
          },
          "soc_cutoff_percent": {
            "format": "double",
            "type": "number"
          },
          "sticker_capacity_ah": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "type": "object"
      },
      "BulkAcknowledgeRequest": {
        "properties": {
          "event_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "event_ids"
        ],
        "type": "object"
      },
      "BulkAcknowledgeResponse": {
        "properties": {
          "acknowledged": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "acknowledged"
        ],
        "type": "object"
      },
      "CapacityEstimationConfig": {
        "properties": {
          "clamp_max_ah": {
            "format": "double",
            "type": "number"
          },
          "clamp_min_ah": {
            "format": "double",
            "type": "number"
          },
          "ema_alpha": {
            "format": "double",
            "type": "number"
          },
          "enabled": {
            "type": "boolean"
          },
          "min_soc_span_percent": {
            "format": "double",
            "type": "number"
          }
        },
        "type": "object"
      },
      "ConnectionResponse": {
        "properties": {
          "cloud_address": {
            "type": "string"
          },
          "last_switch": {
            "nullable": true,
            "type": "string"
          },
          "local_address": {
            "type": "string"
          },
          "mode": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "timezone": {
            "type": "string"
          }
        },
        "required": [
          "mode",
          "local_address",
          "cloud_address",
          "status",
          "timezone"
        ],
        "type": "object"
      },
      "ConnectionUpdate": {
        "properties": {
          "cloud_address": {
            "nullable": true,
            "type": "string"
          },
          "local_address": {
            "nullable": true,
            "type": "string"
          },
          "mode": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "ControllerRuntimeConfigPatchRequest": {
        "properties": {
          "analytics_feed_poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "enable_analytics_feeds": {
            "nullable": true,
            "type": "boolean"
          },
          "enable_forecast_ingestion": {
            "nullable": true,
            "type": "boolean"
          },
          "forecast_poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "mqtt_password": {
            "nullable": true,
            "type": "string"
          },
          "mqtt_username": {
            "nullable": true,
            "type": "string"
          },
          "offline_threshold_seconds": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "schedule_poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "sidecar_batch_size": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "sidecar_enable_mqtt_listener": {
            "nullable": true,
            "type": "boolean"
          },
          "sidecar_flush_interval_ms": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "sidecar_max_queue": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "sidecar_mqtt_keepalive_secs": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "sidecar_mqtt_topic_prefix": {
            "nullable": true,
            "type": "string"
          },
          "sidecar_status_poll_interval_ms": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "ControllerRuntimeConfigResponse": {
        "properties": {
          "analytics_feed_poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "config_path": {
            "type": "string"
          },
          "enable_analytics_feeds": {
            "type": "boolean"
          },
          "enable_forecast_ingestion": {
            "type": "boolean"
          },
          "forecast_poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "mqtt_password_configured": {
            "type": "boolean"
          },
          "mqtt_username": {
            "nullable": true,
            "type": "string"
          },
          "offline_threshold_seconds": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "schedule_poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "sidecar_batch_size": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "sidecar_enable_mqtt_listener": {
            "type": "boolean"
          },
          "sidecar_flush_interval_ms": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "sidecar_max_queue": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "sidecar_mqtt_keepalive_secs": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "sidecar_mqtt_topic_prefix": {
            "type": "string"
          },
          "sidecar_status_poll_interval_ms": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "updated_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "mqtt_password_configured",
          "enable_analytics_feeds",
          "enable_forecast_ingestion",
          "analytics_feed_poll_interval_seconds",
          "forecast_poll_interval_seconds",
          "schedule_poll_interval_seconds",
          "offline_threshold_seconds",
          "sidecar_mqtt_topic_prefix",
          "sidecar_mqtt_keepalive_secs",
          "sidecar_enable_mqtt_listener",
          "sidecar_batch_size",
          "sidecar_flush_interval_ms",
          "sidecar_max_queue",
          "sidecar_status_poll_interval_ms",
          "config_path"
        ],
        "type": "object"
      },
      "CreateAlarmRuleRequest": {
        "properties": {
          "condition_ast": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "description": {
            "nullable": true,
            "type": "string"
          },
          "enabled": {
            "nullable": true,
            "type": "boolean"
          },
          "message_template": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "origin": {
            "nullable": true,
            "type": "string"
          },
          "severity": {
            "nullable": true,
            "type": "string"
          },
          "target_selector": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "timing": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          }
        },
        "required": [
          "name",
          "target_selector",
          "condition_ast"
        ],
        "type": "object"
      },
      "CreateAnnotationRequest": {
        "properties": {
          "chart_state": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "label": {
            "nullable": true,
            "type": "string"
          },
          "sensor_ids": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "time_end": {
            "nullable": true,
            "type": "string"
          },
          "time_start": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "chart_state"
        ],
        "type": "object"
      },
      "CurrentSignMode": {
        "enum": [
          "auto",
          "positive_is_charging",
          "positive_is_discharging"
        ],
        "type": "string"
      },
      "CurrentWeatherMetric": {
        "properties": {
          "unit": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "unit",
          "value"
        ],
        "type": "object"
      },
      "CurrentWeatherResponse": {
        "properties": {
          "fetched_at": {
            "type": "string"
          },
          "latitude": {
            "format": "double",
            "type": "number"
          },
          "longitude": {
            "format": "double",
            "type": "number"
          },
          "metrics": {
            "additionalProperties": {
              "$ref": "#/components/schemas/CurrentWeatherMetric"
            },
            "type": "object"
          },
          "observed_at": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          }
        },
        "required": [
          "provider",
          "latitude",
          "longitude",
          "observed_at",
          "fetched_at",
          "metrics"
        ],
        "type": "object"
      },
      "DashboardBackupEntry": {
        "properties": {
          "captured_at": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "node_name": {
            "nullable": true,
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "size_bytes": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "id",
          "node_id",
          "path"
        ],
        "type": "object"
      },
      "DashboardSnapshot": {
        "properties": {
          "adoption": {
            "items": {
              "$ref": "#/components/schemas/AdoptionCandidate"
            },
            "type": "array"
          },
          "alarm_events": {
            "items": {
              "$ref": "#/components/schemas/AlarmEventResponse"
            },
            "type": "array"
          },
          "alarms": {
            "items": {
              "$ref": "#/components/schemas/AlarmResponse"
            },
            "type": "array"
          },
          "analytics": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "backup_retention": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RetentionConfigResponse"
              }
            ],
            "nullable": true
          },
          "backups": {
            "items": {
              "$ref": "#/components/schemas/DashboardBackupEntry"
            },
            "type": "array"
          },
          "connection": {
            "$ref": "#/components/schemas/ConnectionResponse"
          },
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/NodeResponse"
            },
            "type": "array"
          },
          "outputs": {
            "items": {
              "$ref": "#/components/schemas/OutputResponse"
            },
            "type": "array"
          },
          "schedules": {
            "items": {
              "$ref": "#/components/schemas/ScheduleResponse"
            },
            "type": "array"
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/SensorResponse"
            },
            "type": "array"
          },
          "timestamp": {
            "type": "string"
          },
          "trend_series": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "users": {
            "items": {
              "$ref": "#/components/schemas/UserResponse"
            },
            "type": "array"
          }
        },
        "required": [
          "timestamp",
          "nodes",
          "sensors",
          "outputs",
          "users",
          "schedules",
          "alarms",
          "alarm_events",
          "analytics",
          "backups",
          "adoption",
          "connection",
          "trend_series"
        ],
        "type": "object"
      },
      "DeploymentJob": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "error": {
            "nullable": true,
            "type": "string"
          },
          "finished_at": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "node": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DeploymentNodeInfo"
              }
            ],
            "nullable": true
          },
          "outcome": {
            "nullable": true,
            "type": "string"
          },
          "started_at": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/DeploymentStep"
            },
            "type": "array"
          }
        },
        "required": [
          "id",
          "status",
          "created_at",
          "steps"
        ],
        "type": "object"
      },
      "DeploymentNodeInfo": {
        "properties": {
          "adoption_token": {
            "nullable": true,
            "type": "string"
          },
          "host": {
            "nullable": true,
            "type": "string"
          },
          "mac_eth": {
            "nullable": true,
            "type": "string"
          },
          "mac_wifi": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "node_name": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "DeploymentStep": {
        "properties": {
          "finished_at": {
            "nullable": true,
            "type": "string"
          },
          "logs": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "name": {
            "type": "string"
          },
          "started_at": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/StepStatus"
          }
        },
        "required": [
          "name",
          "status",
          "logs"
        ],
        "type": "object"
      },
      "DevActivityHeartbeatRequest": {
        "properties": {
          "message": {
            "nullable": true,
            "type": "string"
          },
          "source": {
            "nullable": true,
            "type": "string"
          },
          "ttl_seconds": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "DevActivityStatusResponse": {
        "properties": {
          "active": {
            "type": "boolean"
          },
          "expires_at": {
            "nullable": true,
            "type": "string"
          },
          "message": {
            "nullable": true,
            "type": "string"
          },
          "updated_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "active"
        ],
        "type": "object"
      },
      "DeviceCatalog": {
        "properties": {
          "vendors": {
            "items": {
              "$ref": "#/components/schemas/DeviceVendor"
            },
            "type": "array"
          },
          "version": {
            "format": "int32",
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "version",
          "vendors"
        ],
        "type": "object"
      },
      "DeviceModel": {
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "points": {
            "items": {
              "$ref": "#/components/schemas/DevicePoint"
            },
            "type": "array"
          },
          "protocols": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "since_year": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "id",
          "name",
          "protocols",
          "points"
        ],
        "type": "object"
      },
      "DevicePoint": {
        "properties": {
          "bacnet_object": {
            "nullable": true,
            "type": "string"
          },
          "data_type": {
            "nullable": true,
            "type": "string"
          },
          "json_pointer": {
            "nullable": true,
            "type": "string"
          },
          "metric": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "oid": {
            "nullable": true,
            "type": "string"
          },
          "path": {
            "nullable": true,
            "type": "string"
          },
          "protocol": {
            "type": "string"
          },
          "register": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "scale": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "sensor_type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "metric",
          "sensor_type",
          "unit",
          "protocol"
        ],
        "type": "object"
      },
      "DeviceVendor": {
        "properties": {
          "id": {
            "type": "string"
          },
          "models": {
            "items": {
              "$ref": "#/components/schemas/DeviceModel"
            },
            "type": "array"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "models"
        ],
        "type": "object"
      },
      "DisplayTile": {
        "properties": {
          "sensor_id": {
            "nullable": true,
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/DisplayTileType"
          }
        },
        "required": [
          "type"
        ],
        "type": "object"
      },
      "DisplayTileType": {
        "enum": [
          "core_status",
          "latency",
          "sensor",
          "sensors",
          "trends",
          "outputs"
        ],
        "type": "string"
      },
      "DisplayTrendConfig": {
        "properties": {
          "default_range": {
            "$ref": "#/components/schemas/DisplayTrendRange"
          },
          "sensor_id": {
            "type": "string"
          }
        },
        "required": [
          "sensor_id"
        ],
        "type": "object"
      },
      "DisplayTrendRange": {
        "enum": [
          "1h",
          "6h",
          "24h"
        ],
        "type": "string"
      },
      "EmporiaCircuitSettings": {
        "properties": {
          "circuit_key": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "hidden": {
            "type": "boolean"
          },
          "include_in_power_summary": {
            "type": "boolean"
          },
          "is_mains": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "nested_device_gid": {
            "nullable": true,
            "type": "string"
          },
          "raw_channel_num": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "circuit_key",
          "name",
          "enabled",
          "hidden",
          "include_in_power_summary",
          "is_mains"
        ],
        "type": "object"
      },
      "EmporiaCircuitUpdate": {
        "properties": {
          "circuit_key": {
            "type": "string"
          },
          "enabled": {
            "nullable": true,
            "type": "boolean"
          },
          "hidden": {
            "nullable": true,
            "type": "boolean"
          },
          "include_in_power_summary": {
            "nullable": true,
            "type": "boolean"
          }
        },
        "required": [
          "circuit_key"
        ],
        "type": "object"
      },
      "EmporiaDeviceInfo": {
        "properties": {
          "address": {
            "nullable": true,
            "type": "string"
          },
          "device_gid": {
            "type": "string"
          },
          "firmware": {
            "nullable": true,
            "type": "string"
          },
          "model": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "device_gid"
        ],
        "type": "object"
      },
      "EmporiaDeviceSettings": {
        "properties": {
          "address": {
            "nullable": true,
            "type": "string"
          },
          "circuits": {
            "items": {
              "$ref": "#/components/schemas/EmporiaCircuitSettings"
            },
            "type": "array"
          },
          "device_gid": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "firmware": {
            "nullable": true,
            "type": "string"
          },
          "group_label": {
            "nullable": true,
            "type": "string"
          },
          "hidden": {
            "type": "boolean"
          },
          "include_in_power_summary": {
            "type": "boolean"
          },
          "model": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "device_gid",
          "enabled",
          "hidden",
          "include_in_power_summary",
          "circuits"
        ],
        "type": "object"
      },
      "EmporiaDeviceUpdate": {
        "properties": {
          "circuits": {
            "items": {
              "$ref": "#/components/schemas/EmporiaCircuitUpdate"
            },
            "nullable": true,
            "type": "array"
          },
          "device_gid": {
            "type": "string"
          },
          "enabled": {
            "nullable": true,
            "type": "boolean"
          },
          "group_label": {
            "nullable": true,
            "type": "string"
          },
          "hidden": {
            "nullable": true,
            "type": "boolean"
          },
          "include_in_power_summary": {
            "nullable": true,
            "type": "boolean"
          }
        },
        "required": [
          "device_gid"
        ],
        "type": "object"
      },
      "EmporiaDevicesResponse": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/EmporiaDeviceSettings"
            },
            "type": "array"
          },
          "site_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "token_present": {
            "type": "boolean"
          }
        },
        "required": [
          "token_present",
          "site_ids",
          "devices"
        ],
        "type": "object"
      },
      "EmporiaDevicesUpdateRequest": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/EmporiaDeviceUpdate"
            },
            "type": "array"
          }
        },
        "required": [
          "devices"
        ],
        "type": "object"
      },
      "EmporiaLoginRequest": {
        "properties": {
          "password": {
            "type": "string"
          },
          "site_ids": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "username",
          "password"
        ],
        "type": "object"
      },
      "EmporiaLoginResponse": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/EmporiaDeviceInfo"
            },
            "type": "array"
          },
          "site_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "token_present": {
            "type": "boolean"
          }
        },
        "required": [
          "token_present",
          "site_ids",
          "devices"
        ],
        "type": "object"
      },
      "EventPolarityV1": {
        "enum": [
          "both",
          "up",
          "down"
        ],
        "type": "string"
      },
      "ExternalDeviceCatalogResponse": {
        "properties": {
          "vendors": {
            "items": {
              "$ref": "#/components/schemas/DeviceVendor"
            },
            "type": "array"
          },
          "version": {
            "format": "int32",
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "version",
          "vendors"
        ],
        "type": "object"
      },
      "ExternalDeviceCreateRequest": {
        "properties": {
          "external_id": {
            "nullable": true,
            "type": "string"
          },
          "host": {
            "nullable": true,
            "type": "string"
          },
          "http_base_url": {
            "nullable": true,
            "type": "string"
          },
          "http_password": {
            "nullable": true,
            "type": "string"
          },
          "http_username": {
            "nullable": true,
            "type": "string"
          },
          "leap_ca_pem": {
            "nullable": true,
            "type": "string"
          },
          "leap_client_cert_pem": {
            "nullable": true,
            "type": "string"
          },
          "leap_client_key_pem": {
            "nullable": true,
            "type": "string"
          },
          "leap_verify_ca": {
            "nullable": true,
            "type": "boolean"
          },
          "lip_integration_report": {
            "nullable": true,
            "type": "string"
          },
          "lip_password": {
            "nullable": true,
            "type": "string"
          },
          "lip_username": {
            "nullable": true,
            "type": "string"
          },
          "model_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "poll_interval_seconds": {
            "format": "int64",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "port": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "protocol": {
            "type": "string"
          },
          "snmp_community": {
            "nullable": true,
            "type": "string"
          },
          "unit_id": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "vendor_id": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "vendor_id",
          "model_id",
          "protocol"
        ],
        "type": "object"
      },
      "ExternalDeviceSummary": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "external_id": {
            "nullable": true,
            "type": "string"
          },
          "external_provider": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "node_id": {
            "type": "string"
          }
        },
        "required": [
          "node_id",
          "name",
          "config"
        ],
        "type": "object"
      },
      "ForecastDatumRead": {
        "properties": {
          "field": {
            "type": "string"
          },
          "horizon_hours": {
            "format": "int32",
            "type": "integer"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "recorded_at": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "id",
          "field",
          "horizon_hours",
          "value",
          "recorded_at"
        ],
        "type": "object"
      },
      "ForecastIngestItem": {
        "properties": {
          "field": {
            "type": "string"
          },
          "horizon_hours": {
            "format": "int32",
            "type": "integer"
          },
          "recorded_at": {
            "nullable": true,
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "field",
          "value"
        ],
        "type": "object"
      },
      "ForecastIngestRequest": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ForecastIngestItem"
            },
            "type": "array"
          }
        },
        "required": [
          "items"
        ],
        "type": "object"
      },
      "ForecastIngestResponse": {
        "properties": {
          "ingested": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "ingested"
        ],
        "type": "object"
      },
      "ForecastSeriesMetric": {
        "properties": {
          "points": {
            "items": {
              "$ref": "#/components/schemas/ForecastSeriesPoint"
            },
            "type": "array"
          },
          "unit": {
            "type": "string"
          }
        },
        "required": [
          "unit",
          "points"
        ],
        "type": "object"
      },
      "ForecastSeriesPoint": {
        "properties": {
          "timestamp": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "timestamp",
          "value"
        ],
        "type": "object"
      },
      "ForecastSeriesResponse": {
        "properties": {
          "issued_at": {
            "type": "string"
          },
          "kind": {
            "type": "string"
          },
          "metrics": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ForecastSeriesMetric"
            },
            "type": "object"
          },
          "provider": {
            "type": "string"
          },
          "subject": {
            "type": "string"
          },
          "subject_kind": {
            "type": "string"
          }
        },
        "required": [
          "provider",
          "kind",
          "subject_kind",
          "subject",
          "issued_at",
          "metrics"
        ],
        "type": "object"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "HostKeyScanRequest": {
        "properties": {
          "host": {
            "type": "string"
          },
          "port": {
            "format": "int32",
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "host",
          "port"
        ],
        "type": "object"
      },
      "HostKeyScanResponse": {
        "properties": {
          "fingerprint_sha256": {
            "type": "string"
          },
          "host": {
            "type": "string"
          },
          "key_type": {
            "type": "string"
          },
          "known_hosts_entry": {
            "type": "string"
          },
          "port": {
            "format": "int32",
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "host",
          "port",
          "key_type",
          "fingerprint_sha256",
          "known_hosts_entry"
        ],
        "type": "object"
      },
      "IncidentAssignRequest": {
        "properties": {
          "user_id": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "IncidentCloseRequest": {
        "properties": {
          "closed": {
            "type": "boolean"
          }
        },
        "required": [
          "closed"
        ],
        "type": "object"
      },
      "IncidentDetailResponse": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/crate.routes.alarms.AlarmEventResponse"
            },
            "type": "array"
          },
          "incident": {
            "$ref": "#/components/schemas/IncidentResponse"
          }
        },
        "required": [
          "incident",
          "events"
        ],
        "type": "object"
      },
      "IncidentNoteCreateRequest": {
        "properties": {
          "body": {
            "type": "string"
          }
        },
        "required": [
          "body"
        ],
        "type": "object"
      },
      "IncidentNoteResponse": {
        "properties": {
          "body": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "created_by": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "incident_id": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "incident_id",
          "body",
          "created_at"
        ],
        "type": "object"
      },
      "IncidentNotesListResponse": {
        "properties": {
          "next_cursor": {
            "nullable": true,
            "type": "string"
          },
          "notes": {
            "items": {
              "$ref": "#/components/schemas/IncidentNoteResponse"
            },
            "type": "array"
          }
        },
        "required": [
          "notes"
        ],
        "type": "object"
      },
      "IncidentResponse": {
        "properties": {
          "active_event_count": {
            "format": "int64",
            "type": "integer"
          },
          "assigned_to": {
            "nullable": true,
            "type": "string"
          },
          "closed_at": {
            "nullable": true,
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "first_event_at": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "last_event_at": {
            "type": "string"
          },
          "last_message": {
            "nullable": true,
            "type": "string"
          },
          "last_node_id": {
            "nullable": true,
            "type": "string"
          },
          "last_origin": {
            "nullable": true,
            "type": "string"
          },
          "last_sensor_id": {
            "nullable": true,
            "type": "string"
          },
          "note_count": {
            "format": "int64",
            "type": "integer"
          },
          "rule_id": {
            "nullable": true,
            "type": "string"
          },
          "severity": {
            "type": "string"
          },
          "snoozed_until": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "target_key": {
            "nullable": true,
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "total_event_count": {
            "format": "int64",
            "type": "integer"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "severity",
          "status",
          "title",
          "first_event_at",
          "last_event_at",
          "created_at",
          "updated_at",
          "total_event_count",
          "active_event_count",
          "note_count"
        ],
        "type": "object"
      },
      "IncidentSnoozeRequest": {
        "properties": {
          "until": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "IncidentsListResponse": {
        "properties": {
          "incidents": {
            "items": {
              "$ref": "#/components/schemas/IncidentResponse"
            },
            "type": "array"
          },
          "next_cursor": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "incidents"
        ],
        "type": "object"
      },
      "JobStatus": {
        "enum": [
          "queued",
          "running",
          "success",
          "failed"
        ],
        "type": "string"
      },
      "JsonValue": {},
      "LoginRequest": {
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "password"
        ],
        "type": "object"
      },
      "LoginResponse": {
        "properties": {
          "token": {
            "type": "string"
          }
        },
        "required": [
          "token"
        ],
        "type": "object"
      },
      "MapFeatureResponse": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "geometry": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "properties": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "sensor_id": {
            "nullable": true,
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "geometry",
          "properties",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "MapFeatureSnapshot": {
        "properties": {
          "geometry": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "properties": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "sensor_id": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "geometry",
          "properties"
        ],
        "type": "object"
      },
      "MapFeatureUpsertRequest": {
        "properties": {
          "geometry": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "properties": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "sensor_id": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "geometry"
        ],
        "type": "object"
      },
      "MapLayerResponse": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "created_at": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "kind": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "opacity": {
            "format": "double",
            "type": "number"
          },
          "source_type": {
            "type": "string"
          },
          "system_key": {
            "nullable": true,
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          },
          "z_index": {
            "format": "int32",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "name",
          "kind",
          "source_type",
          "config",
          "opacity",
          "enabled",
          "z_index",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "MapLayerSnapshot": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "enabled": {
            "type": "boolean"
          },
          "kind": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "opacity": {
            "format": "double",
            "type": "number"
          },
          "source_type": {
            "type": "string"
          },
          "system_key": {
            "nullable": true,
            "type": "string"
          },
          "z_index": {
            "format": "int32",
            "type": "integer"
          }
        },
        "required": [
          "name",
          "kind",
          "source_type",
          "config",
          "opacity",
          "enabled",
          "z_index"
        ],
        "type": "object"
      },
      "MapLayerUpsertRequest": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "enabled": {
            "nullable": true,
            "type": "boolean"
          },
          "kind": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "opacity": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "source_type": {
            "type": "string"
          },
          "z_index": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "name",
          "kind",
          "source_type",
          "config"
        ],
        "type": "object"
      },
      "MapSaveCreateRequest": {
        "properties": {
          "active_base_layer_id": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "bearing": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lat": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lng": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "pitch": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "zoom": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "required": [
          "name"
        ],
        "type": "object"
      },
      "MapSaveResponse": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "type": "object"
      },
      "MapSaveSnapshot": {
        "properties": {
          "active_base_layer_name": {
            "nullable": true,
            "type": "string"
          },
          "active_base_layer_system_key": {
            "nullable": true,
            "type": "string"
          },
          "bearing": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lat": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lng": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "features": {
            "items": {
              "$ref": "#/components/schemas/MapFeatureSnapshot"
            },
            "type": "array"
          },
          "name": {
            "type": "string"
          },
          "pitch": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "zoom": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "required": [
          "name",
          "features"
        ],
        "type": "object"
      },
      "MapSettingsResponse": {
        "properties": {
          "active_base_layer_id": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "active_save_id": {
            "format": "int64",
            "type": "integer"
          },
          "active_save_name": {
            "type": "string"
          },
          "bearing": {
            "format": "double",
            "type": "number"
          },
          "center_lat": {
            "format": "double",
            "type": "number"
          },
          "center_lng": {
            "format": "double",
            "type": "number"
          },
          "pitch": {
            "format": "double",
            "type": "number"
          },
          "updated_at": {
            "nullable": true,
            "type": "string"
          },
          "zoom": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "active_save_id",
          "active_save_name",
          "center_lat",
          "center_lng",
          "zoom",
          "bearing",
          "pitch"
        ],
        "type": "object"
      },
      "MapSettingsSnapshot": {
        "properties": {
          "active_base_layer_name": {
            "nullable": true,
            "type": "string"
          },
          "active_base_layer_system_key": {
            "nullable": true,
            "type": "string"
          },
          "active_save_name": {
            "nullable": true,
            "type": "string"
          },
          "bearing": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lat": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lng": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "pitch": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "zoom": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "type": "object"
      },
      "MapSettingsUpdateRequest": {
        "properties": {
          "active_base_layer_id": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "bearing": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "center_lat": {
            "format": "double",
            "type": "number"
          },
          "center_lng": {
            "format": "double",
            "type": "number"
          },
          "pitch": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "zoom": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "center_lat",
          "center_lng",
          "zoom"
        ],
        "type": "object"
      },
      "MapSnapshot": {
        "properties": {
          "layers": {
            "items": {
              "$ref": "#/components/schemas/MapLayerSnapshot"
            },
            "type": "array"
          },
          "saves": {
            "items": {
              "$ref": "#/components/schemas/MapSaveSnapshot"
            },
            "type": "array"
          },
          "settings": {
            "allOf": [
              {
                "$ref": "#/components/schemas/MapSettingsSnapshot"
              }
            ],
            "nullable": true
          }
        },
        "required": [
          "layers",
          "saves"
        ],
        "type": "object"
      },
      "MapillaryTokenResponse": {
        "properties": {
          "access_token": {
            "nullable": true,
            "type": "string"
          },
          "configured": {
            "type": "boolean"
          }
        },
        "required": [
          "configured"
        ],
        "type": "object"
      },
      "MetricIngestItem": {
        "properties": {
          "quality": {
            "format": "int32",
            "type": "integer"
          },
          "sensor_id": {
            "type": "string"
          },
          "timestamp": {
            "nullable": true,
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "sensor_id",
          "value"
        ],
        "type": "object"
      },
      "MetricIngestRequest": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/MetricIngestItem"
            },
            "type": "array"
          }
        },
        "required": [
          "items"
        ],
        "type": "object"
      },
      "MetricIngestResponse": {
        "properties": {
          "ingested": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "ingested"
        ],
        "type": "object"
      },
      "MetricPoint": {
        "properties": {
          "samples": {
            "format": "int64",
            "type": "integer"
          },
          "timestamp": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "timestamp",
          "value",
          "samples"
        ],
        "type": "object"
      },
      "MetricSeries": {
        "properties": {
          "label": {
            "nullable": true,
            "type": "string"
          },
          "points": {
            "items": {
              "$ref": "#/components/schemas/MetricPoint"
            },
            "type": "array"
          },
          "sensor_id": {
            "type": "string"
          },
          "sensor_name": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "sensor_id",
          "points"
        ],
        "type": "object"
      },
      "MetricsResponse": {
        "properties": {
          "next_cursor": {
            "nullable": true,
            "type": "string"
          },
          "series": {
            "items": {
              "$ref": "#/components/schemas/MetricSeries"
            },
            "type": "array"
          }
        },
        "required": [
          "series"
        ],
        "type": "object"
      },
      "NodeAds1263SettingsDraft": {
        "properties": {
          "cs_bcm": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "data_rate": {
            "nullable": true,
            "type": "string"
          },
          "drdy_bcm": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "enabled": {
            "type": "boolean"
          },
          "gain": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "rst_bcm": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "scan_interval_seconds": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "spi_bus": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "spi_device": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "spi_mode": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "spi_speed_hz": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "vref_volts": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "type": "object"
      },
      "NodeAnalogHealth": {
        "properties": {
          "chip_id": {
            "nullable": true,
            "type": "string"
          },
          "last_error": {
            "nullable": true,
            "type": "string"
          },
          "last_ok_at": {
            "nullable": true,
            "type": "string"
          },
          "ok": {
            "type": "boolean"
          }
        },
        "required": [
          "ok"
        ],
        "type": "object"
      },
      "NodeCreateRequest": {
        "properties": {
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "cpu_percent": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "ip_last": {
            "nullable": true,
            "type": "string"
          },
          "last_seen": {
            "nullable": true,
            "type": "string"
          },
          "mac_eth": {
            "nullable": true,
            "type": "string"
          },
          "mac_wifi": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "status": {
            "nullable": true,
            "type": "string"
          },
          "storage_used_bytes": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "uptime_seconds": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "name"
        ],
        "type": "object"
      },
      "NodeDisplayProfile": {
        "properties": {
          "core_api_base_url": {
            "nullable": true,
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "kiosk_autostart": {
            "type": "boolean"
          },
          "latency_sample_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "latency_window_samples": {
            "format": "int32",
            "type": "integer"
          },
          "local_pin_hash": {
            "nullable": true,
            "type": "string"
          },
          "outputs_enabled": {
            "type": "boolean"
          },
          "schema_version": {
            "format": "int32",
            "type": "integer"
          },
          "tiles": {
            "items": {
              "$ref": "#/components/schemas/DisplayTile"
            },
            "type": "array"
          },
          "trend_ranges": {
            "items": {
              "$ref": "#/components/schemas/DisplayTrendRange"
            },
            "type": "array"
          },
          "trends": {
            "items": {
              "$ref": "#/components/schemas/DisplayTrendConfig"
            },
            "type": "array"
          },
          "ui_refresh_seconds": {
            "format": "int32",
            "type": "integer"
          }
        },
        "required": [
          "schema_version",
          "enabled",
          "kiosk_autostart",
          "ui_refresh_seconds",
          "latency_sample_seconds",
          "latency_window_samples",
          "tiles",
          "outputs_enabled",
          "trends"
        ],
        "type": "object"
      },
      "NodeOrderUpdateRequest": {
        "properties": {
          "node_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "node_ids"
        ],
        "type": "object"
      },
      "NodeResponse": {
        "properties": {
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "cpu_percent": {
            "format": "float",
            "type": "number"
          },
          "created_at": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "ip_last": {
            "nullable": true,
            "type": "string"
          },
          "last_seen": {
            "nullable": true,
            "type": "string"
          },
          "mac_eth": {
            "nullable": true,
            "type": "string"
          },
          "mac_wifi": {
            "nullable": true,
            "type": "string"
          },
          "memory_percent": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "memory_used_bytes": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "mqtt_broker_rtt_jitter_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "mqtt_broker_rtt_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "network_jitter_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "network_latency_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "ping_jitter_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "ping_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "ping_p50_30m_ms": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "status": {
            "type": "string"
          },
          "storage_used_bytes": {
            "format": "int64",
            "type": "integer"
          },
          "uptime_percent_24h": {
            "format": "float",
            "nullable": true,
            "type": "number"
          },
          "uptime_seconds": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "name",
          "status",
          "uptime_seconds",
          "cpu_percent",
          "storage_used_bytes"
        ],
        "type": "object"
      },
      "NodeSensorDraft": {
        "properties": {
          "channel": {
            "format": "int32",
            "type": "integer"
          },
          "current_loop_range_m": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "current_loop_shunt_ohms": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "input_max": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "input_min": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "interval_seconds": {
            "format": "double",
            "type": "number"
          },
          "location": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "offset": {
            "format": "double",
            "type": "number"
          },
          "output_max": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "output_min": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "preset": {
            "type": "string"
          },
          "pulses_per_unit": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "rolling_average_seconds": {
            "format": "double",
            "type": "number"
          },
          "scale": {
            "format": "double",
            "type": "number"
          },
          "sensor_id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "NodeSensorsConfigResponse": {
        "properties": {
          "ads1263": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NodeAds1263SettingsDraft"
              }
            ],
            "nullable": true
          },
          "analog_backend": {
            "nullable": true,
            "type": "string"
          },
          "analog_health": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NodeAnalogHealth"
              }
            ],
            "nullable": true
          },
          "node_id": {
            "type": "string"
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/NodeSensorDraft"
            },
            "type": "array"
          }
        },
        "required": [
          "node_id",
          "sensors"
        ],
        "type": "object"
      },
      "NodeSensorsConfigUpdateRequest": {
        "properties": {
          "ads1263": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NodeAds1263SettingsDraft"
              }
            ],
            "nullable": true
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/NodeSensorDraft"
            },
            "type": "array"
          }
        },
        "required": [
          "sensors"
        ],
        "type": "object"
      },
      "NodeSensorsOrderUpdateRequest": {
        "properties": {
          "sensor_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "sensor_ids"
        ],
        "type": "object"
      },
      "NodeStatusPayload": {
        "properties": {
          "cpu_percent": {
            "type": "number"
          },
          "cpu_percent_per_core": {
            "items": {
              "type": "number"
            },
            "type": "array"
          },
          "heartbeats": {
            "type": "number"
          },
          "memory_percent": {
            "type": "number"
          },
          "memory_used_bytes": {
            "type": "integer"
          },
          "mesh": {
            "additionalProperties": true,
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "network_jitter_ms": {
            "type": "number"
          },
          "network_latency_ms": {
            "type": "number"
          },
          "node_id": {
            "type": "string"
          },
          "outputs": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array"
          },
          "request_id": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "storage_used_bytes": {
            "type": "integer"
          },
          "ts": {
            "format": "date-time",
            "type": "string"
          },
          "uptime_percent_24h": {
            "type": "number"
          },
          "uptime_seconds": {
            "type": "integer"
          }
        },
        "required": [
          "status",
          "node_id",
          "ts",
          "uptime_seconds",
          "cpu_percent",
          "storage_used_bytes",
          "memory_used_bytes",
          "cpu_percent_per_core"
        ],
        "type": "object"
      },
      "NodeUpdateRequest": {
        "properties": {
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "ip_last": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "OfflineMapPackResponse": {
        "properties": {
          "bounds": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "error": {
            "nullable": true,
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "max_zoom": {
            "format": "int32",
            "type": "integer"
          },
          "min_zoom": {
            "format": "int32",
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "progress": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "status": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "bounds",
          "min_zoom",
          "max_zoom",
          "status",
          "progress",
          "updated_at"
        ],
        "type": "object"
      },
      "OutputCommandRequest": {
        "properties": {
          "reason": {
            "nullable": true,
            "type": "string"
          },
          "state": {
            "type": "string"
          }
        },
        "required": [
          "state"
        ],
        "type": "object"
      },
      "OutputCreateRequest": {
        "properties": {
          "command_topic": {
            "nullable": true,
            "type": "string"
          },
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "id": {
            "nullable": true,
            "type": "string"
          },
          "last_command": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "node_id": {
            "format": "uuid",
            "type": "string"
          },
          "schedule_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "state": {
            "nullable": true,
            "type": "string"
          },
          "supported_states": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "type": {
            "type": "string"
          }
        },
        "required": [
          "node_id",
          "name",
          "type"
        ],
        "type": "object"
      },
      "OutputResponse": {
        "properties": {
          "command_topic": {
            "nullable": true,
            "type": "string"
          },
          "config": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "id": {
            "type": "string"
          },
          "last_command": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "schedule_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "state": {
            "type": "string"
          },
          "supported_states": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "type": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "node_id",
          "name",
          "type",
          "state",
          "supported_states",
          "schedule_ids",
          "history",
          "config"
        ],
        "type": "object"
      },
      "OutputUpdateRequest": {
        "properties": {
          "command_topic": {
            "nullable": true,
            "type": "string"
          },
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "nullable": true,
            "type": "array"
          },
          "last_command": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "format": "uuid",
            "nullable": true,
            "type": "string"
          },
          "schedule_ids": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "state": {
            "nullable": true,
            "type": "string"
          },
          "supported_states": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "type": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "PiDeploymentRequest": {
        "properties": {
          "adoption_token": {
            "nullable": true,
            "type": "string"
          },
          "host": {
            "type": "string"
          },
          "host_key_fingerprint": {
            "nullable": true,
            "type": "string"
          },
          "mqtt_password": {
            "nullable": true,
            "type": "string"
          },
          "mqtt_url": {
            "nullable": true,
            "type": "string"
          },
          "mqtt_username": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "nullable": true,
            "type": "string"
          },
          "node_name": {
            "nullable": true,
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "port": {
            "format": "int32",
            "minimum": 0,
            "type": "integer"
          },
          "ssh_private_key_passphrase": {
            "nullable": true,
            "type": "string"
          },
          "ssh_private_key_pem": {
            "nullable": true,
            "type": "string"
          },
          "username": {
            "type": "string"
          }
        },
        "required": [
          "host",
          "port",
          "username",
          "password"
        ],
        "type": "object"
      },
      "PowerRunwayConfig": {
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "history_days": {
            "format": "int64",
            "type": "integer"
          },
          "load_sensor_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "projection_days": {
            "format": "int64",
            "type": "integer"
          },
          "pv_derate": {
            "format": "double",
            "type": "number"
          }
        },
        "type": "object"
      },
      "PowerRunwayConfigRequest": {
        "properties": {
          "power_runway": {
            "$ref": "#/components/schemas/PowerRunwayConfig"
          }
        },
        "required": [
          "power_runway"
        ],
        "type": "object"
      },
      "PowerRunwayConfigResponse": {
        "properties": {
          "load_sensors_valid": {
            "type": "boolean"
          },
          "node_id": {
            "type": "string"
          },
          "power_runway": {
            "$ref": "#/components/schemas/PowerRunwayConfig"
          }
        },
        "required": [
          "node_id",
          "power_runway"
        ],
        "type": "object"
      },
      "PredictiveBootstrapResponse": {
        "properties": {
          "predictions": {
            "format": "int32",
            "type": "integer"
          },
          "submitted_samples": {
            "format": "int32",
            "type": "integer"
          }
        },
        "required": [
          "submitted_samples"
        ],
        "type": "object"
      },
      "PredictiveConfigUpdate": {
        "properties": {
          "api_base_url": {
            "nullable": true,
            "type": "string"
          },
          "api_token": {
            "nullable": true,
            "type": "string"
          },
          "enabled": {
            "nullable": true,
            "type": "boolean"
          },
          "model": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "PredictiveStatus": {
        "properties": {
          "api_base_url": {
            "type": "string"
          },
          "bootstrap_lookback_hours": {
            "format": "int32",
            "type": "integer"
          },
          "bootstrap_max_sensors": {
            "format": "int32",
            "type": "integer"
          },
          "bootstrap_on_start": {
            "type": "boolean"
          },
          "enabled": {
            "type": "boolean"
          },
          "fallback_models": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "model": {
            "nullable": true,
            "type": "string"
          },
          "running": {
            "type": "boolean"
          },
          "token_present": {
            "type": "boolean"
          }
        },
        "required": [
          "enabled",
          "running",
          "token_present",
          "api_base_url",
          "fallback_models",
          "bootstrap_on_start",
          "bootstrap_max_sensors",
          "bootstrap_lookback_hours"
        ],
        "type": "object"
      },
      "PredictiveTraceEntry": {
        "properties": {
          "code": {
            "type": "string"
          },
          "model": {
            "nullable": true,
            "type": "string"
          },
          "output": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        },
        "required": [
          "timestamp",
          "code",
          "output"
        ],
        "type": "object"
      },
      "PreviewEventOverlayParamsV1": {
        "properties": {
          "gap_max_buckets": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "max_events": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          },
          "min_separation_buckets": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "polarity": {
            "allOf": [
              {
                "$ref": "#/components/schemas/EventPolarityV1"
              }
            ],
            "nullable": true
          },
          "tolerance_seconds": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "z_threshold": {
            "format": "double",
            "nullable": true,
            "type": "number"
          }
        },
        "type": "object"
      },
      "PreviewEventOverlaysV1": {
        "properties": {
          "candidate_event_ts_ms": {
            "default": [],
            "items": {
              "format": "int64",
              "type": "integer"
            },
            "type": "array"
          },
          "focus_event_ts_ms": {
            "default": [],
            "items": {
              "format": "int64",
              "type": "integer"
            },
            "type": "array"
          },
          "matched_candidate_event_ts_ms": {
            "default": [],
            "items": {
              "format": "int64",
              "type": "integer"
            },
            "type": "array"
          },
          "matched_focus_event_ts_ms": {
            "default": [],
            "items": {
              "format": "int64",
              "type": "integer"
            },
            "type": "array"
          },
          "tolerance_seconds": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "focus_event_ts_ms",
          "candidate_event_ts_ms",
          "matched_focus_event_ts_ms",
          "matched_candidate_event_ts_ms"
        ],
        "type": "object"
      },
      "PreviewTargetResult": {
        "properties": {
          "observed_value": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "passed": {
            "type": "boolean"
          },
          "sensor_ids": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "target_key": {
            "type": "string"
          }
        },
        "required": [
          "target_key",
          "sensor_ids",
          "passed"
        ],
        "type": "object"
      },
      "PvForecastCheckRequest": {
        "properties": {
          "azimuth_deg": {
            "format": "double",
            "type": "number"
          },
          "kwp": {
            "format": "double",
            "type": "number"
          },
          "latitude": {
            "format": "double",
            "type": "number"
          },
          "longitude": {
            "format": "double",
            "type": "number"
          },
          "tilt_deg": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "latitude",
          "longitude",
          "tilt_deg",
          "azimuth_deg",
          "kwp"
        ],
        "type": "object"
      },
      "PvForecastCheckResponse": {
        "properties": {
          "checked_at": {
            "type": "string"
          },
          "place": {
            "nullable": true,
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "timezone": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "status",
          "checked_at"
        ],
        "type": "object"
      },
      "PvForecastConfigRequest": {
        "properties": {
          "azimuth_deg": {
            "format": "double",
            "type": "number"
          },
          "enabled": {
            "type": "boolean"
          },
          "kwp": {
            "format": "double",
            "type": "number"
          },
          "latitude": {
            "format": "double",
            "type": "number"
          },
          "longitude": {
            "format": "double",
            "type": "number"
          },
          "tilt_deg": {
            "format": "double",
            "type": "number"
          },
          "time_format": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "enabled",
          "latitude",
          "longitude",
          "tilt_deg",
          "azimuth_deg",
          "kwp"
        ],
        "type": "object"
      },
      "PvForecastConfigResponse": {
        "properties": {
          "azimuth_deg": {
            "format": "double",
            "type": "number"
          },
          "enabled": {
            "type": "boolean"
          },
          "kwp": {
            "format": "double",
            "type": "number"
          },
          "latitude": {
            "format": "double",
            "type": "number"
          },
          "longitude": {
            "format": "double",
            "type": "number"
          },
          "provider": {
            "type": "string"
          },
          "tilt_deg": {
            "format": "double",
            "type": "number"
          },
          "time_format": {
            "type": "string"
          },
          "updated_at": {
            "type": "string"
          }
        },
        "required": [
          "enabled",
          "provider",
          "latitude",
          "longitude",
          "tilt_deg",
          "azimuth_deg",
          "kwp",
          "time_format",
          "updated_at"
        ],
        "type": "object"
      },
      "RenogyApplyResponse": {
        "properties": {
          "result": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status",
          "result"
        ],
        "type": "object"
      },
      "RenogyBt2Mode": {
        "enum": [
          "ble",
          "external"
        ],
        "type": "string"
      },
      "RenogyDesiredSettingsResponse": {
        "properties": {
          "apply_requested": {
            "type": "boolean"
          },
          "apply_requested_at": {
            "nullable": true,
            "type": "string"
          },
          "desired": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "desired_updated_at": {
            "type": "string"
          },
          "device_type": {
            "type": "string"
          },
          "last_applied": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "last_applied_at": {
            "nullable": true,
            "type": "string"
          },
          "last_apply_result": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "last_apply_status": {
            "nullable": true,
            "type": "string"
          },
          "maintenance_mode": {
            "type": "boolean"
          },
          "node_id": {
            "type": "string"
          },
          "pending": {
            "type": "boolean"
          }
        },
        "required": [
          "node_id",
          "device_type",
          "desired",
          "pending",
          "desired_updated_at",
          "apply_requested",
          "maintenance_mode"
        ],
        "type": "object"
      },
      "RenogyDesiredSettingsUpdateRequest": {
        "properties": {
          "desired": {
            "$ref": "#/components/schemas/JsonValue"
          }
        },
        "required": [
          "desired"
        ],
        "type": "object"
      },
      "RenogyHistoryEntry": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "current": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "desired": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "diff": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "event_type": {
            "type": "string"
          },
          "id": {
            "format": "int64",
            "type": "integer"
          },
          "result": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          }
        },
        "required": [
          "id",
          "event_type",
          "created_at"
        ],
        "type": "object"
      },
      "RenogyMaintenanceModeRequest": {
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        },
        "required": [
          "enabled"
        ],
        "type": "object"
      },
      "RenogyPresetSensor": {
        "properties": {
          "interval_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "metric": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "sensor_id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          }
        },
        "required": [
          "sensor_id",
          "name",
          "metric",
          "type",
          "unit",
          "interval_seconds"
        ],
        "type": "object"
      },
      "RenogyReadCurrentResponse": {
        "properties": {
          "current": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "provider_status": {
            "type": "string"
          }
        },
        "required": [
          "current",
          "provider_status"
        ],
        "type": "object"
      },
      "RenogyRegisterMapSchema": {
        "properties": {
          "schema": {
            "$ref": "#/components/schemas/JsonValue"
          }
        },
        "required": [
          "schema"
        ],
        "type": "object"
      },
      "RenogyRollbackRequest": {
        "properties": {
          "event_id": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "event_id"
        ],
        "type": "object"
      },
      "RenogyValidateResponse": {
        "properties": {
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "ok": {
            "type": "boolean"
          }
        },
        "required": [
          "ok",
          "errors"
        ],
        "type": "object"
      },
      "RestoreRequest": {
        "properties": {
          "backup_node_id": {
            "type": "string"
          },
          "date": {
            "type": "string"
          },
          "target_node_id": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "backup_node_id",
          "date"
        ],
        "type": "object"
      },
      "RestoreResponse": {
        "properties": {
          "status": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "RetentionConfigResponse": {
        "properties": {
          "default_keep_days": {
            "format": "int32",
            "type": "integer"
          },
          "last_cleanup_at": {
            "nullable": true,
            "type": "string"
          },
          "policies": {
            "items": {
              "$ref": "#/components/schemas/RetentionPolicyResponse"
            },
            "type": "array"
          }
        },
        "required": [
          "default_keep_days",
          "policies"
        ],
        "type": "object"
      },
      "RetentionPolicyResponse": {
        "properties": {
          "keep_days": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "node_id": {
            "type": "string"
          },
          "node_name": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "node_id"
        ],
        "type": "object"
      },
      "RetentionPolicyUpdate": {
        "properties": {
          "keep_days": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "node_id": {
            "type": "string"
          }
        },
        "required": [
          "node_id"
        ],
        "type": "object"
      },
      "RetentionUpdateRequest": {
        "properties": {
          "default_keep_days": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "policies": {
            "items": {
              "$ref": "#/components/schemas/RetentionPolicyUpdate"
            },
            "type": "array"
          }
        },
        "required": [
          "policies"
        ],
        "type": "object"
      },
      "ScheduleCalendarEvent": {
        "properties": {
          "actions": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "end": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "schedule_id": {
            "type": "string"
          },
          "start": {
            "type": "string"
          }
        },
        "required": [
          "schedule_id",
          "name",
          "start",
          "end",
          "conditions",
          "actions"
        ],
        "type": "object"
      },
      "ScheduleResponse": {
        "properties": {
          "actions": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "blocks": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "next_run": {
            "nullable": true,
            "type": "string"
          },
          "rrule": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "rrule",
          "blocks",
          "conditions",
          "actions"
        ],
        "type": "object"
      },
      "ScheduleUpsertRequest": {
        "properties": {
          "actions": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "blocks": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          },
          "name": {
            "type": "string"
          },
          "rrule": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "rrule",
          "blocks",
          "conditions",
          "actions"
        ],
        "type": "object"
      },
      "SensorCreateRequest": {
        "properties": {
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "deleted_at": {
            "nullable": true,
            "type": "string"
          },
          "interval_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "node_id": {
            "format": "uuid",
            "type": "string"
          },
          "rolling_avg_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "sensor_id": {
            "nullable": true,
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          }
        },
        "required": [
          "node_id",
          "name",
          "type",
          "unit",
          "interval_seconds"
        ],
        "type": "object"
      },
      "SensorResponse": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "created_at": {
            "type": "string"
          },
          "deleted_at": {
            "nullable": true,
            "type": "string"
          },
          "interval_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "latest_ts": {
            "nullable": true,
            "type": "string"
          },
          "latest_value": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "rolling_avg_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "sensor_id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          },
          "visibility": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SensorVisibilityInfo"
              }
            ],
            "nullable": true
          }
        },
        "required": [
          "sensor_id",
          "node_id",
          "name",
          "type",
          "unit",
          "interval_seconds",
          "rolling_avg_seconds",
          "created_at",
          "config"
        ],
        "type": "object"
      },
      "SensorUpdateRequest": {
        "properties": {
          "config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "deleted_at": {
            "nullable": true,
            "type": "string"
          },
          "interval_seconds": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "name": {
            "nullable": true,
            "type": "string"
          },
          "rolling_avg_seconds": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "type": {
            "nullable": true,
            "type": "string"
          },
          "unit": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "SensorVisibilityInfo": {
        "properties": {
          "override_mode": {
            "nullable": true,
            "type": "string"
          },
          "reason": {
            "type": "string"
          },
          "visible": {
            "type": "boolean"
          }
        },
        "required": [
          "visible",
          "reason"
        ],
        "type": "object"
      },
      "SetupConfigSnapshot": {
        "properties": {
          "path": {
            "type": "string"
          },
          "updated_at": {
            "nullable": true,
            "type": "string"
          },
          "value": {
            "$ref": "#/components/schemas/JsonValue"
          }
        },
        "required": [
          "path",
          "value"
        ],
        "type": "object"
      },
      "SetupCredential": {
        "properties": {
          "created_at": {
            "nullable": true,
            "type": "string"
          },
          "has_value": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "name",
          "has_value",
          "metadata"
        ],
        "type": "object"
      },
      "SetupCredentialSnapshot": {
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/JsonValue"
          },
          "name": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "value",
          "metadata"
        ],
        "type": "object"
      },
      "SetupCredentialsResponse": {
        "properties": {
          "credentials": {
            "items": {
              "$ref": "#/components/schemas/SetupCredential"
            },
            "type": "array"
          }
        },
        "required": [
          "credentials"
        ],
        "type": "object"
      },
      "SocAnchorMode": {
        "enum": [
          "disabled",
          "blend_to_renogy_when_resting"
        ],
        "type": "string"
      },
      "StepStatus": {
        "enum": [
          "pending",
          "running",
          "completed",
          "failed"
        ],
        "type": "string"
      },
      "TelemetryPayload": {
        "properties": {
          "interval_seconds": {
            "type": "number"
          },
          "quality": {
            "default": 0,
            "type": "integer"
          },
          "request_id": {
            "type": "string"
          },
          "rolling_average_seconds": {
            "type": "number"
          },
          "sensor_id": {
            "type": "string"
          },
          "timestamp": {
            "format": "date-time",
            "type": "string"
          },
          "unit": {
            "type": "string"
          },
          "value": {
            "type": "number"
          }
        },
        "required": [
          "sensor_id",
          "value"
        ],
        "type": "object"
      },
      "TemplatesResponse": {
        "properties": {
          "templates": {
            "items": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "array"
          }
        },
        "required": [
          "templates"
        ],
        "type": "object"
      },
      "TsseEpisodeV1": {
        "properties": {
          "coverage": {
            "format": "double",
            "type": "number"
          },
          "end_ts": {
            "type": "string"
          },
          "lag_iqr_sec": {
            "format": "int64",
            "type": "integer"
          },
          "lag_sec": {
            "format": "int64",
            "type": "integer"
          },
          "num_points": {
            "format": "int64",
            "minimum": 0,
            "type": "integer"
          },
          "score_mean": {
            "format": "double",
            "type": "number"
          },
          "score_peak": {
            "format": "double",
            "type": "number"
          },
          "start_ts": {
            "type": "string"
          },
          "window_sec": {
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "start_ts",
          "end_ts",
          "window_sec",
          "lag_sec",
          "lag_iqr_sec",
          "score_mean",
          "score_peak",
          "coverage",
          "num_points"
        ],
        "type": "object"
      },
      "TssePreviewRequestV1": {
        "properties": {
          "candidate_sensor_id": {
            "type": "string"
          },
          "episode_end_ts": {
            "nullable": true,
            "type": "string"
          },
          "episode_start_ts": {
            "nullable": true,
            "type": "string"
          },
          "event_overlay": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PreviewEventOverlayParamsV1"
              }
            ],
            "nullable": true
          },
          "focus_sensor_id": {
            "type": "string"
          },
          "lag_seconds": {
            "format": "int64",
            "nullable": true,
            "type": "integer"
          },
          "max_points": {
            "format": "int32",
            "minimum": 0,
            "nullable": true,
            "type": "integer"
          }
        },
        "required": [
          "focus_sensor_id",
          "candidate_sensor_id"
        ],
        "type": "object"
      },
      "TssePreviewResponseV1": {
        "properties": {
          "bucket_seconds": {
            "format": "int64",
            "type": "integer"
          },
          "candidate": {
            "$ref": "#/components/schemas/TssePreviewSeriesV1"
          },
          "candidate_aligned": {
            "allOf": [
              {
                "$ref": "#/components/schemas/TssePreviewSeriesV1"
              }
            ],
            "nullable": true
          },
          "event_overlays": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PreviewEventOverlaysV1"
              }
            ],
            "nullable": true
          },
          "focus": {
            "$ref": "#/components/schemas/TssePreviewSeriesV1"
          },
          "selected_episode": {
            "allOf": [
              {
                "$ref": "#/components/schemas/TsseEpisodeV1"
              }
            ],
            "nullable": true
          }
        },
        "required": [
          "focus",
          "candidate",
          "bucket_seconds"
        ],
        "type": "object"
      },
      "TssePreviewSeriesPointV1": {
        "properties": {
          "samples": {
            "format": "int64",
            "type": "integer"
          },
          "timestamp": {
            "type": "string"
          },
          "value": {
            "format": "double",
            "type": "number"
          }
        },
        "required": [
          "timestamp",
          "value",
          "samples"
        ],
        "type": "object"
      },
      "TssePreviewSeriesV1": {
        "properties": {
          "bucket_coverage_pct": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "points": {
            "items": {
              "$ref": "#/components/schemas/TssePreviewSeriesPointV1"
            },
            "type": "array"
          },
          "sensor_id": {
            "type": "string"
          },
          "sensor_name": {
            "nullable": true,
            "type": "string"
          },
          "unit": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "sensor_id",
          "points"
        ],
        "type": "object"
      },
      "UpdateAlarmRuleRequest": {
        "properties": {
          "condition_ast": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "description": {
            "nullable": true,
            "type": "string"
          },
          "enabled": {
            "nullable": true,
            "type": "boolean"
          },
          "message_template": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          },
          "origin": {
            "nullable": true,
            "type": "string"
          },
          "severity": {
            "nullable": true,
            "type": "string"
          },
          "target_selector": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "timing": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          }
        },
        "type": "object"
      },
      "UpdateAnnotationRequest": {
        "properties": {
          "chart_state": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "label": {
            "nullable": true,
            "type": "string"
          },
          "sensor_ids": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "time_end": {
            "nullable": true,
            "type": "string"
          },
          "time_start": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "UpdateNodeDisplayProfileResponse": {
        "properties": {
          "display": {
            "$ref": "#/components/schemas/NodeDisplayProfile"
          },
          "node_agent_url": {
            "nullable": true,
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "warning": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "status",
          "node_id",
          "display"
        ],
        "type": "object"
      },
      "UpsertCredentialRequest": {
        "properties": {
          "metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "value": {
            "type": "string"
          }
        },
        "required": [
          "value"
        ],
        "type": "object"
      },
      "UserCreateRequest": {
        "properties": {
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "email",
          "role",
          "capabilities",
          "password"
        ],
        "type": "object"
      },
      "UserResponse": {
        "properties": {
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "email": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "last_login": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "email",
          "role",
          "capabilities"
        ],
        "type": "object"
      },
      "UserUpdateRequest": {
        "properties": {
          "capabilities": {
            "items": {
              "type": "string"
            },
            "nullable": true,
            "type": "array"
          },
          "email": {
            "nullable": true,
            "type": "string"
          },
          "name": {
            "nullable": true,
            "type": "string"
          },
          "password": {
            "nullable": true,
            "type": "string"
          },
          "role": {
            "nullable": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "WeatherForecastConfigRequest": {
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "latitude": {
            "format": "double",
            "type": "number"
          },
          "longitude": {
            "format": "double",
            "type": "number"
          },
          "provider": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "enabled",
          "latitude",
          "longitude"
        ],
        "type": "object"
      },
      "WeatherForecastConfigResponse": {
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "latitude": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "longitude": {
            "format": "double",
            "nullable": true,
            "type": "number"
          },
          "provider": {
            "nullable": true,
            "type": "string"
          },
          "updated_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "enabled"
        ],
        "type": "object"
      },
      "Ws2902CreateRequest": {
        "properties": {
          "interval_seconds": {
            "format": "int32",
            "nullable": true,
            "type": "integer"
          },
          "nickname": {
            "type": "string"
          },
          "protocol": {
            "$ref": "#/components/schemas/Ws2902Protocol"
          }
        },
        "required": [
          "nickname",
          "protocol"
        ],
        "type": "object"
      },
      "Ws2902CreateResponse": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "ingest_path": {
            "type": "string"
          },
          "nickname": {
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "protocol": {
            "$ref": "#/components/schemas/Ws2902Protocol"
          },
          "sensors": {
            "items": {
              "$ref": "#/components/schemas/Ws2902CreatedSensor"
            },
            "type": "array"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "node_id",
          "nickname",
          "protocol",
          "enabled",
          "ingest_path",
          "token",
          "created_at",
          "sensors"
        ],
        "type": "object"
      },
      "Ws2902CreatedSensor": {
        "properties": {
          "interval_seconds": {
            "format": "int32",
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "sensor_id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          }
        },
        "required": [
          "sensor_id",
          "name",
          "type",
          "unit",
          "interval_seconds"
        ],
        "type": "object"
      },
      "Ws2902Protocol": {
        "enum": [
          "wunderground",
          "ambient"
        ],
        "type": "string"
      },
      "Ws2902RotateTokenResponse": {
        "properties": {
          "id": {
            "type": "string"
          },
          "ingest_path": {
            "type": "string"
          },
          "rotated_at": {
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "ingest_path",
          "token",
          "rotated_at"
        ],
        "type": "object"
      },
      "Ws2902StatusResponse": {
        "properties": {
          "created_at": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "ingest_path_template": {
            "type": "string"
          },
          "last_missing_fields": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "last_payload": {
            "allOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              }
            ],
            "nullable": true
          },
          "last_seen": {
            "nullable": true,
            "type": "string"
          },
          "nickname": {
            "type": "string"
          },
          "node_id": {
            "type": "string"
          },
          "protocol": {
            "$ref": "#/components/schemas/Ws2902Protocol"
          },
          "rotated_at": {
            "nullable": true,
            "type": "string"
          }
        },
        "required": [
          "id",
          "node_id",
          "nickname",
          "protocol",
          "enabled",
          "ingest_path_template",
          "created_at",
          "last_missing_fields"
        ],
        "type": "object"
      },
      "Ws2902UpdateRequest": {
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        },
        "required": [
          "enabled"
        ],
        "type": "object"
      },
      "crate.routes.alarms.AlarmEventResponse": {
        "$ref": "#/components/schemas/AlarmEventResponse"
      },
      "crate.services.alarm_engine.PreviewTargetResult": {
        "$ref": "#/components/schemas/PreviewTargetResult"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "scheme": "bearer",
        "type": "http"
      }
    }
  },
  "info": {
    "description": "",
    "license": {
      "name": "MIT"
    },
    "title": "Infrastructure Dashboard Core Server",
    "version": "0.1.0"
  },
  "openapi": "3.0.3",
  "paths": {
    "/api/action-logs": {
      "get": {
        "operationId": "list_action_logs",
        "parameters": [
          {
            "description": "Start timestamp (RFC3339).",
            "in": "query",
            "name": "from",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "End timestamp (RFC3339).",
            "in": "query",
            "name": "to",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Optional node id (UUID) to scope output actions.",
            "in": "query",
            "name": "node_id",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "description": "Optional schedule id.",
            "in": "query",
            "name": "schedule_id",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "format": "int32",
              "maximum": 250,
              "minimum": 1,
              "nullable": true,
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ActionLogResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Action logs"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "action_logs"
        ]
      }
    },
    "/api/adopt": {
      "post": {
        "operationId": "adopt_node",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdoptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            },
            "description": "Adopted node"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          },
          "409": {
            "description": "Token already used"
          }
        },
        "tags": [
          "discovery"
        ]
      }
    },
    "/api/adoption/tokens": {
      "post": {
        "operationId": "issue_adoption_token",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdoptionTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdoptionTokenResponse"
                }
              }
            },
            "description": "Adoption token"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "discovery"
        ]
      }
    },
    "/api/alarm-rules": {
      "get": {
        "operationId": "list_alarm_rules",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AlarmRuleResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Alarm rules"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      },
      "post": {
        "operationId": "create_alarm_rule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAlarmRuleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleResponse"
                }
              }
            },
            "description": "Created alarm rule"
          },
          "400": {
            "description": "Invalid request"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      }
    },
    "/api/alarm-rules/preview": {
      "post": {
        "operationId": "preview_alarm_rule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AlarmRulePreviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRulePreviewResponse"
                }
              }
            },
            "description": "Alarm rule preview"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      }
    },
    "/api/alarm-rules/stats": {
      "post": {
        "operationId": "alarm_rule_stats",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AlarmRuleStatsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleStatsResponse"
                }
              }
            },
            "description": "Alarm rule stats guidance"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      }
    },
    "/api/alarm-rules/{rule_id}": {
      "delete": {
        "operationId": "delete_alarm_rule",
        "parameters": [
          {
            "description": "Alarm rule id",
            "in": "path",
            "name": "rule_id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleDeleteResponse"
                }
              }
            },
            "description": "Deleted alarm rule"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      },
      "get": {
        "operationId": "get_alarm_rule",
        "parameters": [
          {
            "description": "Alarm rule id",
            "in": "path",
            "name": "rule_id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleResponse"
                }
              }
            },
            "description": "Alarm rule detail"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      },
      "put": {
        "operationId": "update_alarm_rule",
        "parameters": [
          {
            "description": "Alarm rule id",
            "in": "path",
            "name": "rule_id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAlarmRuleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleResponse"
                }
              }
            },
            "description": "Updated alarm rule"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      }
    },
    "/api/alarm-rules/{rule_id}/disable": {
      "post": {
        "operationId": "disable_alarm_rule",
        "parameters": [
          {
            "description": "Alarm rule id",
            "in": "path",
            "name": "rule_id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleResponse"
                }
              }
            },
            "description": "Disabled alarm rule"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      }
    },
    "/api/alarm-rules/{rule_id}/enable": {
      "post": {
        "operationId": "enable_alarm_rule",
        "parameters": [
          {
            "description": "Alarm rule id",
            "in": "path",
            "name": "rule_id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmRuleResponse"
                }
              }
            },
            "description": "Enabled alarm rule"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarm_rules"
        ]
      }
    },
    "/api/alarms": {
      "get": {
        "operationId": "list_alarms",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AlarmResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Alarms"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarms"
        ]
      }
    },
    "/api/alarms/events/ack-bulk": {
      "post": {
        "operationId": "acknowledge_events_bulk",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkAcknowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkAcknowledgeResponse"
                }
              }
            },
            "description": "Acknowledged events"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarms"
        ]
      }
    },
    "/api/alarms/events/{event_id}/ack": {
      "post": {
        "operationId": "acknowledge_event",
        "parameters": [
          {
            "description": "Alarm event id",
            "in": "path",
            "name": "event_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlarmEventResponse"
                }
              }
            },
            "description": "Acknowledged event"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Alarm event not found"
          }
        },
        "tags": [
          "alarms"
        ]
      }
    },
    "/api/alarms/history": {
      "get": {
        "operationId": "alarm_history",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "format": "int32",
              "maximum": 250,
              "minimum": 1,
              "nullable": true,
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AlarmEventResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Alarm history"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "alarms"
        ]
      }
    },
    "/api/analysis/jobs": {
      "post": {
        "operationId": "create_job",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnalysisJobCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisJobCreateResponse"
                }
              }
            },
            "description": "Job created (or deduped)"
          },
          "400": {
            "description": "Invalid request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "analysis"
        ]
      }
    },
    "/api/analysis/jobs/{id}": {
      "get": {
        "operationId": "get_job",
        "parameters": [
          {
            "description": "Job id (uuid)",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisJobStatusResponse"
                }
              }
            },
            "description": "Job status"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "analysis"
        ]
      }
    },
    "/api/analysis/jobs/{id}/cancel": {
      "post": {
        "operationId": "cancel_job",
        "parameters": [
          {
            "description": "Job id (uuid)",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisJobCancelResponse"
                }
              }
            },
            "description": "Cancellation requested"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "analysis"
        ]
      }
    },
    "/api/analysis/jobs/{id}/events": {
      "get": {
        "operationId": "get_job_events",
        "parameters": [
          {
            "description": "Job id (uuid)",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Return events with id > after",
            "in": "query",
            "name": "after",
            "required": false,
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            }
          },
          {
            "description": "Max events (<=500)",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisJobEventsResponse"
                }
              }
            },
            "description": "Job events"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "analysis"
        ]
      }
    },
    "/api/analysis/jobs/{id}/result": {
      "get": {
        "operationId": "get_job_result",
        "parameters": [
          {
            "description": "Job id (uuid)",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisJobResultResponse"
                }
              }
            },
            "description": "Job result"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "analysis"
        ]
      }
    },
    "/api/analysis/preview": {
      "post": {
        "operationId": "preview",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TssePreviewRequestV1"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TssePreviewResponseV1"
                }
              }
            },
            "description": "Preview series around an episode"
          },
          "400": {
            "description": "Invalid request"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "analysis"
        ]
      }
    },
    "/api/analytics/feeds/poll": {
      "post": {
        "operationId": "feeds_poll",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsPollResponse"
                }
              }
            },
            "description": "Triggered feed poll"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/feeds/status": {
      "get": {
        "operationId": "feeds_status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsFeedStatusResponse"
                }
              }
            },
            "description": "Analytics feed status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/power": {
      "get": {
        "operationId": "power",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsPower"
                }
              }
            },
            "description": "Power analytics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/soil": {
      "get": {
        "operationId": "soil",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsSoil"
                }
              }
            },
            "description": "Soil analytics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/status": {
      "get": {
        "operationId": "status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsStatus"
                }
              }
            },
            "description": "System analytics status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/water": {
      "get": {
        "operationId": "water",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsWater"
                }
              }
            },
            "description": "Water analytics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/api-tokens": {
      "get": {
        "operationId": "list_api_tokens",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ApiTokenInfo"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Known API tokens"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "auth"
        ]
      }
    },
    "/api/api-tokens/{token_id}": {
      "delete": {
        "operationId": "revoke_api_token",
        "parameters": [
          {
            "description": "API token id",
            "in": "path",
            "name": "token_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Token revoked"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Token not found"
          }
        },
        "tags": [
          "auth"
        ]
      }
    },
    "/api/auth/bootstrap": {
      "get": {
        "operationId": "auth_bootstrap",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthBootstrapResponse"
                }
              }
            },
            "description": "Bootstrap status"
          }
        },
        "tags": [
          "auth"
        ]
      }
    },
    "/api/auth/login": {
      "post": {
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            },
            "description": "Auth token"
          },
          "400": {
            "description": "Missing email/password"
          },
          "401": {
            "description": "Invalid credentials"
          }
        },
        "tags": [
          "crate::routes::auth"
        ]
      }
    },
    "/api/auth/me": {
      "get": {
        "operationId": "me",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthMeResponse"
                }
              }
            },
            "description": "Current user"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "auth"
        ]
      }
    },
    "/api/backups": {
      "get": {
        "operationId": "list_backups",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/BackupSummary"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Backups"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/app-settings/export": {
      "get": {
        "operationId": "export_app_settings",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "description": "Controller settings bundle"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/app-settings/import": {
      "post": {
        "operationId": "import_app_settings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppSettingsBundle"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppSettingsImportResponse"
                }
              }
            },
            "description": "Applied controller settings bundle"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/database/export": {
      "get": {
        "operationId": "export_database",
        "parameters": [
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "scope",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "description": "Database export"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/retention": {
      "get": {
        "operationId": "get_retention",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetentionConfigResponse"
                }
              }
            },
            "description": "Retention config"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      },
      "put": {
        "operationId": "update_retention",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RetentionUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetentionConfigResponse"
                }
              }
            },
            "description": "Updated retention config"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/run": {
      "post": {
        "operationId": "run_backups",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupRunResponse"
                }
              }
            },
            "description": "Triggered backups"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/{node_id}": {
      "get": {
        "operationId": "list_backups_for_node",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupSummary"
                }
              }
            },
            "description": "Backups"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "No backups found for node"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/backups/{node_id}/{date}/download": {
      "get": {
        "operationId": "download_backup",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Backup date (YYYY-MM-DD)",
            "in": "path",
            "name": "date",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "description": "Backup JSON file"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Backup not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/battery/config/{node_id}": {
      "get": {
        "operationId": "get_battery_config",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatteryConfigResponse"
                }
              }
            },
            "description": "Battery model configuration"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "battery"
        ]
      },
      "put": {
        "operationId": "put_battery_config",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatteryConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatteryConfigResponse"
                }
              }
            },
            "description": "Updated battery model configuration"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "battery"
        ]
      }
    },
    "/api/chart-annotations": {
      "get": {
        "operationId": "list_annotations",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AnnotationResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "List chart annotations"
          }
        },
        "tags": [
          "chart-annotations"
        ]
      },
      "post": {
        "operationId": "create_annotation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAnnotationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnnotationResponse"
                }
              }
            },
            "description": "Annotation created"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "chart-annotations"
        ]
      }
    },
    "/api/chart-annotations/{id}": {
      "delete": {
        "operationId": "delete_annotation",
        "parameters": [
          {
            "description": "Annotation id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Annotation deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "chart-annotations"
        ]
      },
      "put": {
        "operationId": "update_annotation",
        "parameters": [
          {
            "description": "Annotation id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAnnotationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnnotationResponse"
                }
              }
            },
            "description": "Annotation updated"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "chart-annotations"
        ]
      }
    },
    "/api/connection": {
      "get": {
        "operationId": "get_connection",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionResponse"
                }
              }
            },
            "description": "Connection status"
          }
        },
        "tags": [
          "connection"
        ]
      },
      "put": {
        "operationId": "update_connection",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectionUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionResponse"
                }
              }
            },
            "description": "Connection status"
          },
          "501": {
            "description": "Not implemented"
          }
        },
        "tags": [
          "connection"
        ]
      }
    },
    "/api/dashboard/state": {
      "get": {
        "operationId": "dashboard_state",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardSnapshot"
                }
              }
            },
            "description": "Dashboard snapshot"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "dashboard"
        ]
      }
    },
    "/api/deployments/pi5": {
      "post": {
        "operationId": "start_pi5_deployment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PiDeploymentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeploymentJob"
                }
              }
            },
            "description": "Deployment job"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "deployments"
        ]
      }
    },
    "/api/deployments/pi5/host-key": {
      "post": {
        "operationId": "scan_pi5_host_key",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HostKeyScanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HostKeyScanResponse"
                }
              }
            },
            "description": "Host key fingerprint"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "deployments"
        ]
      }
    },
    "/api/deployments/pi5/{job_id}": {
      "get": {
        "operationId": "get_pi5_deployment",
        "parameters": [
          {
            "description": "Deployment job id",
            "in": "path",
            "name": "job_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeploymentJob"
                }
              }
            },
            "description": "Deployment job"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Job not found"
          }
        },
        "tags": [
          "deployments"
        ]
      }
    },
    "/api/dev/activity": {
      "delete": {
        "operationId": "clear_dev_activity",
        "responses": {
          "204": {
            "description": "Cleared dev activity status"
          }
        },
        "tags": [
          "dev"
        ]
      },
      "get": {
        "operationId": "get_dev_activity_status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevActivityStatusResponse"
                }
              }
            },
            "description": "Dev activity status"
          }
        },
        "tags": [
          "dev"
        ]
      }
    },
    "/api/dev/activity/heartbeat": {
      "post": {
        "operationId": "heartbeat_dev_activity",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DevActivityHeartbeatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevActivityStatusResponse"
                }
              }
            },
            "description": "Updated dev activity status"
          }
        },
        "tags": [
          "dev"
        ]
      }
    },
    "/api/forecast": {
      "get": {
        "operationId": "latest_forecast",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ForecastDatumRead"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Latest forecast values"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/ingest": {
      "post": {
        "operationId": "ingest_forecast",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastIngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastIngestResponse"
                }
              }
            },
            "description": "Ingested forecast data"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/latest": {
      "get": {
        "operationId": "latest_forecast_value",
        "parameters": [
          {
            "in": "query",
            "name": "field",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "horizon_hours",
            "required": false,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastDatumRead"
                }
              }
            },
            "description": "Latest forecast datum"
          },
          "404": {
            "description": "Forecast data not found"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/poll": {
      "post": {
        "operationId": "poll_forecast",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonValue"
                }
              }
            },
            "description": "Triggered poll"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/pv/check": {
      "post": {
        "operationId": "check_pv_plane",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PvForecastCheckRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PvForecastCheckResponse"
                }
              }
            },
            "description": "Checked PV plane parameters"
          },
          "400": {
            "description": "Invalid parameters"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/pv/config/{node_id}": {
      "get": {
        "operationId": "get_pv_config",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PvForecastConfigResponse"
                }
              }
            },
            "description": "PV forecast configuration"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "forecast"
        ]
      },
      "put": {
        "operationId": "update_pv_config",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PvForecastConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PvForecastConfigResponse"
                }
              }
            },
            "description": "Updated PV forecast configuration"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/pv/{node_id}/daily": {
      "get": {
        "operationId": "pv_daily",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastSeriesResponse"
                }
              }
            },
            "description": "Latest daily PV forecast series"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/pv/{node_id}/hourly": {
      "get": {
        "operationId": "pv_hourly",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "hours",
            "required": false,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "history_hours",
            "required": false,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastSeriesResponse"
                }
              }
            },
            "description": "Latest hourly PV forecast series"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/status": {
      "get": {
        "operationId": "forecast_status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonValue"
                }
              }
            },
            "description": "Forecast ingest status"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/weather/config": {
      "get": {
        "operationId": "get_weather_config",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WeatherForecastConfigResponse"
                }
              }
            },
            "description": "Weather forecast configuration"
          }
        },
        "tags": [
          "forecast"
        ]
      },
      "put": {
        "operationId": "update_weather_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WeatherForecastConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WeatherForecastConfigResponse"
                }
              }
            },
            "description": "Updated weather forecast configuration"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/weather/current": {
      "get": {
        "operationId": "weather_current",
        "parameters": [
          {
            "in": "query",
            "name": "node_id",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "latitude",
            "required": false,
            "schema": {
              "format": "double",
              "nullable": true,
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "longitude",
            "required": false,
            "schema": {
              "format": "double",
              "nullable": true,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrentWeatherResponse"
                }
              }
            },
            "description": "Current weather at a coordinate"
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Location not found"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/weather/daily": {
      "get": {
        "operationId": "weather_daily",
        "parameters": [
          {
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastSeriesResponse"
                }
              }
            },
            "description": "Latest daily weather forecast series"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/weather/hourly": {
      "get": {
        "operationId": "weather_hourly",
        "parameters": [
          {
            "in": "query",
            "name": "hours",
            "required": false,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastSeriesResponse"
                }
              }
            },
            "description": "Latest hourly weather forecast series"
          }
        },
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/incidents": {
      "get": {
        "operationId": "list_incidents",
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "severity",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "assigned_to",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "unassigned",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "from",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "to",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "format": "int32",
              "maximum": 250,
              "minimum": 1,
              "nullable": true,
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "cursor",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentsListResponse"
                }
              }
            },
            "description": "Incidents"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      }
    },
    "/api/incidents/{incident_id}": {
      "get": {
        "operationId": "get_incident",
        "parameters": [
          {
            "description": "Incident id",
            "in": "path",
            "name": "incident_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentDetailResponse"
                }
              }
            },
            "description": "Incident detail"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Incident not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      }
    },
    "/api/incidents/{incident_id}/assign": {
      "post": {
        "operationId": "assign_incident",
        "parameters": [
          {
            "description": "Incident id",
            "in": "path",
            "name": "incident_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IncidentAssignRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentResponse"
                }
              }
            },
            "description": "Updated incident"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Incident not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      }
    },
    "/api/incidents/{incident_id}/close": {
      "post": {
        "operationId": "close_incident",
        "parameters": [
          {
            "description": "Incident id",
            "in": "path",
            "name": "incident_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IncidentCloseRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentResponse"
                }
              }
            },
            "description": "Updated incident"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Incident not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      }
    },
    "/api/incidents/{incident_id}/notes": {
      "get": {
        "operationId": "list_incident_notes",
        "parameters": [
          {
            "description": "Incident id",
            "in": "path",
            "name": "incident_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "format": "int32",
              "maximum": 250,
              "minimum": 1,
              "nullable": true,
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "cursor",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentNotesListResponse"
                }
              }
            },
            "description": "Incident notes"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Incident not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      },
      "post": {
        "operationId": "create_incident_note",
        "parameters": [
          {
            "description": "Incident id",
            "in": "path",
            "name": "incident_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IncidentNoteCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentNoteResponse"
                }
              }
            },
            "description": "Created note"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Incident not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      }
    },
    "/api/incidents/{incident_id}/snooze": {
      "post": {
        "operationId": "snooze_incident",
        "parameters": [
          {
            "description": "Incident id",
            "in": "path",
            "name": "incident_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IncidentSnoozeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentResponse"
                }
              }
            },
            "description": "Updated incident"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Incident not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "incidents"
        ]
      }
    },
    "/api/indicators": {
      "get": {
        "operationId": "latest_indicators",
        "parameters": [
          {
            "in": "query",
            "name": "key",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AnalyticsIndicatorRead"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Latest indicators"
          }
        },
        "tags": [
          "indicators"
        ]
      }
    },
    "/api/indicators/keys": {
      "get": {
        "operationId": "indicator_keys",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Indicator keys"
          }
        },
        "tags": [
          "indicators"
        ]
      }
    },
    "/api/indicators/recompute": {
      "post": {
        "operationId": "recompute_indicators",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonValue"
                }
              }
            },
            "description": "Indicator status"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "indicators"
        ]
      }
    },
    "/api/indicators/status": {
      "get": {
        "operationId": "indicator_status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonValue"
                }
              }
            },
            "description": "Indicator status"
          }
        },
        "tags": [
          "indicators"
        ]
      }
    },
    "/api/integrations/devices": {
      "get": {
        "operationId": "list_devices",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ExternalDeviceSummary"
                  },
                  "type": "array"
                }
              }
            },
            "description": "External devices"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "integrations"
        ]
      },
      "post": {
        "operationId": "create_device",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExternalDeviceCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExternalDeviceSummary"
                }
              }
            },
            "description": "External device created"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "integrations"
        ]
      }
    },
    "/api/integrations/devices/catalog": {
      "get": {
        "operationId": "get_device_catalog",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExternalDeviceCatalogResponse"
                }
              }
            },
            "description": "Device catalog"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "integrations"
        ]
      }
    },
    "/api/integrations/devices/{node_id}": {
      "delete": {
        "operationId": "delete_device",
        "parameters": [
          {
            "description": "Device node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "External device deleted"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "integrations"
        ]
      }
    },
    "/api/integrations/devices/{node_id}/sync": {
      "post": {
        "operationId": "sync_device",
        "parameters": [
          {
            "description": "Device node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "External device sync kicked"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "integrations"
        ]
      }
    },
    "/api/map/features": {
      "get": {
        "operationId": "list_map_features",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/MapFeatureResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Map features"
          }
        },
        "tags": [
          "map"
        ]
      },
      "post": {
        "operationId": "create_map_feature",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MapFeatureUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapFeatureResponse"
                }
              }
            },
            "description": "Created map feature"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/features/{id}": {
      "delete": {
        "operationId": "delete_map_feature",
        "parameters": [
          {
            "description": "Feature id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      },
      "put": {
        "operationId": "update_map_feature",
        "parameters": [
          {
            "description": "Feature id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MapFeatureUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapFeatureResponse"
                }
              }
            },
            "description": "Updated map feature"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/glyphs/{fontstack}/{range}": {
      "get": {
        "operationId": "get_glyph_range",
        "parameters": [
          {
            "description": "Font stack name",
            "in": "path",
            "name": "fontstack",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Unicode range filename (e.g. 0-255)",
            "in": "path",
            "name": "range",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Glyph PBF bytes"
          },
          "404": {
            "description": "Glyph not found"
          }
        },
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/layers": {
      "get": {
        "operationId": "list_map_layers",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/MapLayerResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Map layers"
          }
        },
        "tags": [
          "map"
        ]
      },
      "post": {
        "operationId": "create_map_layer",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MapLayerUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapLayerResponse"
                }
              }
            },
            "description": "Created map layer"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/layers/{id}": {
      "delete": {
        "operationId": "delete_map_layer",
        "parameters": [
          {
            "description": "Layer id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      },
      "put": {
        "operationId": "update_map_layer",
        "parameters": [
          {
            "description": "Layer id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MapLayerUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapLayerResponse"
                }
              }
            },
            "description": "Updated map layer"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/offline/packs": {
      "get": {
        "operationId": "list_offline_packs",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/OfflineMapPackResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Offline map packs"
          }
        },
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/offline/packs/{id}": {
      "get": {
        "operationId": "get_offline_pack",
        "parameters": [
          {
            "description": "Pack id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OfflineMapPackResponse"
                }
              }
            },
            "description": "Offline map pack"
          },
          "404": {
            "description": "Pack not found"
          }
        },
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/offline/packs/{id}/install": {
      "post": {
        "operationId": "install_offline_pack",
        "parameters": [
          {
            "description": "Pack id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OfflineMapPackResponse"
                }
              }
            },
            "description": "Already installed"
          },
          "202": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OfflineMapPackResponse"
                }
              }
            },
            "description": "Install started"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Pack not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/saves": {
      "get": {
        "operationId": "list_map_saves",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/MapSaveResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Map saves"
          }
        },
        "tags": [
          "map"
        ]
      },
      "post": {
        "operationId": "create_map_save",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MapSaveCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapSaveResponse"
                }
              }
            },
            "description": "Created map save"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/saves/{id}/apply": {
      "post": {
        "operationId": "apply_map_save",
        "parameters": [
          {
            "description": "Save id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "format": "int64",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapSettingsResponse"
                }
              }
            },
            "description": "Active map settings"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/settings": {
      "get": {
        "operationId": "get_map_settings",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapSettingsResponse"
                }
              }
            },
            "description": "Map settings"
          }
        },
        "tags": [
          "map"
        ]
      },
      "put": {
        "operationId": "update_map_settings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MapSettingsUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapSettingsResponse"
                }
              }
            },
            "description": "Updated map settings"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "map"
        ]
      }
    },
    "/api/map/tiles/{pack}/{layer}/{z}/{x}/{y}": {
      "get": {
        "operationId": "get_offline_tile",
        "parameters": [
          {
            "description": "Offline pack id",
            "in": "path",
            "name": "pack",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Layer key (streets/topo/satellite/terrain)",
            "in": "path",
            "name": "layer",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Zoom",
            "in": "path",
            "name": "z",
            "required": true,
            "schema": {
              "format": "int32",
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "description": "Tile x",
            "in": "path",
            "name": "x",
            "required": true,
            "schema": {
              "format": "int32",
              "minimum": 0,
              "type": "integer"
            }
          },
          {
            "description": "Tile y",
            "in": "path",
            "name": "y",
            "required": true,
            "schema": {
              "format": "int32",
              "minimum": 0,
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tile bytes"
          },
          "404": {
            "description": "Tile not found"
          }
        },
        "tags": [
          "map"
        ]
      }
    },
    "/api/metrics/ingest": {
      "post": {
        "operationId": "ingest_metrics",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MetricIngestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricIngestResponse"
                }
              }
            },
            "description": "Ingest result"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Unknown sensors"
          },
          "413": {
            "description": "Payload too large"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "metrics"
        ]
      }
    },
    "/api/metrics/query": {
      "get": {
        "operationId": "query_metrics",
        "parameters": [
          {
            "description": "Sensor ids",
            "in": "query",
            "name": "sensor_ids",
            "required": true,
            "schema": {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          },
          {
            "description": "Start timestamp (RFC3339)",
            "in": "query",
            "name": "start",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "End timestamp (RFC3339)",
            "in": "query",
            "name": "end",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Bucket interval (seconds)",
            "in": "query",
            "name": "interval",
            "required": false,
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            }
          },
          {
            "description": "Pagination cursor (RFC3339). When present, returns a page starting at cursor and sets next_cursor for subsequent pages.",
            "in": "query",
            "name": "cursor",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          },
          {
            "description": "Response format: 'json' (default) or 'binary' (compact binary-v1)",
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "nullable": true,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricsResponse"
                }
              }
            },
            "description": "Metric series"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "metrics"
        ]
      }
    },
    "/api/nodes": {
      "get": {
        "operationId": "list_nodes",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/NodeResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Nodes"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      },
      "post": {
        "operationId": "create_node",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            },
            "description": "Created node"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/nodes/order": {
      "put": {
        "operationId": "update_node_order",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeOrderUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Updated node order"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/nodes/{node_id}": {
      "delete": {
        "operationId": "delete_node",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "purge",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      },
      "get": {
        "operationId": "get_node",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            },
            "description": "Node"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      },
      "put": {
        "operationId": "update_node",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeResponse"
                }
              }
            },
            "description": "Updated node"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/nodes/{node_id}/display": {
      "get": {
        "operationId": "get_node_display_profile",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeDisplayProfile"
                }
              }
            },
            "description": "Display profile"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "nodes"
        ]
      },
      "put": {
        "operationId": "update_node_display_profile",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeDisplayProfile"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateNodeDisplayProfileResponse"
                }
              }
            },
            "description": "Updated display profile"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/nodes/{node_id}/presets/renogy-bt2": {
      "post": {
        "operationId": "apply_renogy_bt2_preset",
        "parameters": [
          {
            "description": "Node id (UUID)",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplyRenogyBt2PresetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplyRenogyBt2PresetResponse"
                }
              }
            },
            "description": "Renogy preset applied"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/apply": {
      "post": {
        "operationId": "apply_settings",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyApplyResponse"
                }
              }
            },
            "description": "Apply result"
          },
          "400": {
            "description": "Invalid desired settings"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          },
          "409": {
            "description": "Node offline"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/desired": {
      "get": {
        "operationId": "get_desired_settings",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyDesiredSettingsResponse"
                }
              }
            },
            "description": "Desired settings"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "renogy"
        ]
      },
      "put": {
        "operationId": "put_desired_settings",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenogyDesiredSettingsUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyDesiredSettingsResponse"
                }
              }
            },
            "description": "Updated desired settings"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/history": {
      "get": {
        "operationId": "list_history",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/RenogyHistoryEntry"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Apply history"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/maintenance": {
      "put": {
        "operationId": "set_maintenance_mode",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenogyMaintenanceModeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyDesiredSettingsResponse"
                }
              }
            },
            "description": "Updated settings"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/read": {
      "post": {
        "operationId": "read_current_settings",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyReadCurrentResponse"
                }
              }
            },
            "description": "Current settings read from controller"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          },
          "409": {
            "description": "Node offline"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/rollback": {
      "post": {
        "operationId": "rollback",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenogyRollbackRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyDesiredSettingsResponse"
                }
              }
            },
            "description": "Rollback scheduled/applied"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/schema": {
      "get": {
        "operationId": "get_register_map_schema",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyRegisterMapSchema"
                }
              }
            },
            "description": "Register-map schema"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/renogy-bt2/settings/validate": {
      "post": {
        "operationId": "validate_settings",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenogyDesiredSettingsUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenogyValidateResponse"
                }
              }
            },
            "description": "Validation result"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "renogy"
        ]
      }
    },
    "/api/nodes/{node_id}/sensors/config": {
      "get": {
        "operationId": "get_node_sensors_config",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeSensorsConfigResponse"
                }
              }
            },
            "description": "Node sensor config"
          },
          "400": {
            "description": "Hardware sensors are only supported on node-agent nodes"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "tags": [
          "nodes"
        ]
      },
      "put": {
        "operationId": "update_node_sensors_config",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeSensorsConfigUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplyNodeSensorsConfigResponse"
                }
              }
            },
            "description": "Updated node sensor config"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/nodes/{node_id}/sensors/order": {
      "put": {
        "operationId": "update_node_sensors_order",
        "parameters": [
          {
            "description": "Node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NodeSensorsOrderUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Updated sensor order"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "nodes"
        ]
      }
    },
    "/api/outputs": {
      "get": {
        "operationId": "list_outputs",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/OutputResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Outputs"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "outputs"
        ]
      },
      "post": {
        "operationId": "create_output",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutputCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputResponse"
                }
              }
            },
            "description": "Created output"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Parent node not found"
          },
          "409": {
            "description": "Output id already exists"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "outputs"
        ]
      }
    },
    "/api/outputs/{output_id}": {
      "delete": {
        "operationId": "delete_output",
        "parameters": [
          {
            "description": "Output id",
            "in": "path",
            "name": "output_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Output not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "outputs"
        ]
      },
      "get": {
        "operationId": "get_output",
        "parameters": [
          {
            "description": "Output id",
            "in": "path",
            "name": "output_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputResponse"
                }
              }
            },
            "description": "Output"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Output not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "outputs"
        ]
      },
      "put": {
        "operationId": "update_output",
        "parameters": [
          {
            "description": "Output id",
            "in": "path",
            "name": "output_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutputUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputResponse"
                }
              }
            },
            "description": "Updated output"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Output not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "outputs"
        ]
      }
    },
    "/api/outputs/{output_id}/command": {
      "post": {
        "operationId": "command_output",
        "parameters": [
          {
            "description": "Output id",
            "in": "path",
            "name": "output_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutputCommandRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputResponse"
                }
              }
            },
            "description": "Updated output"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Output not found"
          }
        },
        "tags": [
          "outputs"
        ]
      }
    },
    "/api/power/runway/config/{node_id}": {
      "get": {
        "operationId": "get_power_runway_config",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PowerRunwayConfigResponse"
                }
              }
            },
            "description": "Power runway configuration"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "power"
        ]
      },
      "put": {
        "operationId": "put_power_runway_config",
        "parameters": [
          {
            "description": "Node UUID",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PowerRunwayConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PowerRunwayConfigResponse"
                }
              }
            },
            "description": "Updated power runway configuration"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Node not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "power"
        ]
      }
    },
    "/api/predictive/bootstrap": {
      "post": {
        "operationId": "predictive_bootstrap",
        "parameters": [
          {
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictiveBootstrapResponse"
                }
              }
            },
            "description": "Bootstrap result"
          },
          "400": {
            "description": "Predictive alarms are disabled"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "predictive"
        ]
      }
    },
    "/api/predictive/config": {
      "put": {
        "operationId": "update_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PredictiveConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictiveStatus"
                }
              }
            },
            "description": "Predictive status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "predictive"
        ]
      }
    },
    "/api/predictive/status": {
      "get": {
        "operationId": "predictive_status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictiveStatus"
                }
              }
            },
            "description": "Predictive status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "predictive"
        ]
      }
    },
    "/api/predictive/trace": {
      "get": {
        "operationId": "predictive_trace",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/PredictiveTraceEntry"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Predictive trace entries"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "predictive"
        ]
      }
    },
    "/api/restore": {
      "post": {
        "operationId": "restore_backup",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreResponse"
                }
              }
            },
            "description": "Restore queued"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Backup not found"
          }
        },
        "tags": [
          "backups"
        ]
      }
    },
    "/api/restores/recent": {
      "get": {
        "operationId": "recent_restores",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/JsonValue"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Recent restore operations"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "backups"
        ]
      }
    },
    "/api/scan": {
      "get": {
        "operationId": "scan_nodes",
        "parameters": [
          {
            "in": "query",
            "name": "timeout",
            "required": false,
            "schema": {
              "format": "double",
              "maximum": 10,
              "minimum": 0.5,
              "nullable": true,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AdoptionCandidate"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Adoption candidates"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "discovery"
        ]
      }
    },
    "/api/schedules": {
      "get": {
        "operationId": "list_schedules",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ScheduleResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Schedules"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "schedules"
        ]
      },
      "post": {
        "operationId": "create_schedule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            },
            "description": "Created schedule"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "schedules"
        ]
      }
    },
    "/api/schedules/calendar": {
      "get": {
        "operationId": "calendar",
        "parameters": [
          {
            "in": "query",
            "name": "start",
            "required": true,
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "end",
            "required": true,
            "schema": {
              "format": "date-time",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ScheduleCalendarEvent"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Schedule calendar events"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "schedules"
        ]
      }
    },
    "/api/schedules/{schedule_id}": {
      "delete": {
        "operationId": "delete_schedule",
        "parameters": [
          {
            "description": "Schedule id",
            "in": "path",
            "name": "schedule_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Schedule not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "schedules"
        ]
      },
      "get": {
        "operationId": "get_schedule",
        "parameters": [
          {
            "description": "Schedule id",
            "in": "path",
            "name": "schedule_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            },
            "description": "Schedule"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Schedule not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "schedules"
        ]
      },
      "put": {
        "operationId": "update_schedule",
        "parameters": [
          {
            "description": "Schedule id",
            "in": "path",
            "name": "schedule_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            },
            "description": "Updated schedule"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Schedule not found"
          }
        },
        "tags": [
          "schedules"
        ]
      }
    },
    "/api/sensors": {
      "get": {
        "operationId": "list_sensors",
        "parameters": [
          {
            "in": "query",
            "name": "node_id",
            "required": false,
            "schema": {
              "format": "uuid",
              "nullable": true,
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_hidden",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SensorResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Sensors"
          }
        },
        "tags": [
          "sensors"
        ]
      },
      "post": {
        "operationId": "create_sensor",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensorCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensorResponse"
                }
              }
            },
            "description": "Created sensor"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Parent node not found"
          },
          "409": {
            "description": "Sensor id already exists"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "sensors"
        ]
      }
    },
    "/api/sensors/{sensor_id}": {
      "delete": {
        "operationId": "delete_sensor",
        "parameters": [
          {
            "description": "Sensor id",
            "in": "path",
            "name": "sensor_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "keep_data",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Sensor not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "sensors"
        ]
      },
      "get": {
        "operationId": "get_sensor",
        "parameters": [
          {
            "description": "Sensor id",
            "in": "path",
            "name": "sensor_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_hidden",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensorResponse"
                }
              }
            },
            "description": "Sensor"
          },
          "404": {
            "description": "Sensor not found"
          }
        },
        "tags": [
          "sensors"
        ]
      },
      "put": {
        "operationId": "update_sensor",
        "parameters": [
          {
            "description": "Sensor id",
            "in": "path",
            "name": "sensor_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SensorUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensorResponse"
                }
              }
            },
            "description": "Updated sensor"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Sensor not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "sensors"
        ]
      }
    },
    "/api/setup/controller/runtime-config": {
      "get": {
        "operationId": "get_controller_runtime_config",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ControllerRuntimeConfigResponse"
                }
              }
            },
            "description": "Controller runtime config"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      },
      "post": {
        "operationId": "patch_controller_runtime_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ControllerRuntimeConfigPatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ControllerRuntimeConfigResponse"
                }
              }
            },
            "description": "Updated controller runtime config"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      }
    },
    "/api/setup/credentials": {
      "get": {
        "operationId": "list_credentials",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupCredentialsResponse"
                }
              }
            },
            "description": "Setup credentials"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      }
    },
    "/api/setup/credentials/{name}": {
      "delete": {
        "operationId": "delete_credential",
        "parameters": [
          {
            "description": "Credential name",
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      },
      "put": {
        "operationId": "upsert_credential",
        "parameters": [
          {
            "description": "Credential name",
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertCredentialRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupCredential"
                }
              }
            },
            "description": "Updated credential"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      }
    },
    "/api/setup/emporia/devices": {
      "get": {
        "operationId": "emporia_devices",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmporiaDevicesResponse"
                }
              }
            },
            "description": "Emporia devices + preferences"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "502": {
            "description": "Emporia API failed"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      },
      "put": {
        "operationId": "emporia_update_devices",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmporiaDevicesUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Preferences updated"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      }
    },
    "/api/setup/emporia/login": {
      "post": {
        "operationId": "emporia_login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmporiaLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmporiaLoginResponse"
                }
              }
            },
            "description": "Emporia tokens stored"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "502": {
            "description": "Emporia login failed"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      }
    },
    "/api/setup/integrations/mapillary/token": {
      "get": {
        "operationId": "get_mapillary_token",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MapillaryTokenResponse"
                }
              }
            },
            "description": "Mapillary access token (admin-only)"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "setup"
        ]
      }
    },
    "/api/templates/outputs": {
      "get": {
        "operationId": "output_templates",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplatesResponse"
                }
              }
            },
            "description": "Output templates"
          }
        },
        "tags": [
          "templates"
        ]
      }
    },
    "/api/templates/sensors": {
      "get": {
        "operationId": "sensor_templates",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplatesResponse"
                }
              }
            },
            "description": "Sensor templates"
          }
        },
        "tags": [
          "templates"
        ]
      }
    },
    "/api/users": {
      "get": {
        "operationId": "list_users",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "type": "array"
                }
              }
            },
            "description": "Users"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "users"
        ]
      },
      "post": {
        "operationId": "create_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "Created user"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "409": {
            "description": "Email already in use"
          }
        },
        "tags": [
          "users"
        ]
      }
    },
    "/api/users/{user_id}": {
      "delete": {
        "operationId": "delete_user",
        "parameters": [
          {
            "description": "User id",
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "users"
        ]
      },
      "put": {
        "operationId": "update_user",
        "parameters": [
          {
            "description": "User id",
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "Updated user"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "409": {
            "description": "Email already in use"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "tags": [
          "users"
        ]
      }
    },
    "/api/weather-stations/ws-2902": {
      "post": {
        "operationId": "create_ws2902",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Ws2902CreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ws2902CreateResponse"
                }
              }
            },
            "description": "Integration created"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/api/weather-stations/ws-2902/ingest/{token}": {
      "get": {
        "operationId": "ingest_ws2902",
        "parameters": [
          {
            "description": "Ingest token",
            "in": "path",
            "name": "token",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Upload accepted"
          },
          "403": {
            "description": "Integration disabled"
          },
          "404": {
            "description": "Unknown token"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/api/weather-stations/ws-2902/node/{node_id}": {
      "get": {
        "operationId": "get_ws2902_status_for_node",
        "parameters": [
          {
            "description": "Weather station node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ws2902StatusResponse"
                }
              }
            },
            "description": "Integration status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/api/weather-stations/ws-2902/node/{node_id}/rotate-token": {
      "post": {
        "operationId": "rotate_ws2902_token_for_node",
        "parameters": [
          {
            "description": "Weather station node id",
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ws2902RotateTokenResponse"
                }
              }
            },
            "description": "Token rotated"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/api/weather-stations/ws-2902/{integration_id}": {
      "get": {
        "operationId": "get_ws2902_status",
        "parameters": [
          {
            "description": "Integration id",
            "in": "path",
            "name": "integration_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ws2902StatusResponse"
                }
              }
            },
            "description": "Integration status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "weather-stations"
        ]
      },
      "put": {
        "operationId": "update_ws2902",
        "parameters": [
          {
            "description": "Integration id",
            "in": "path",
            "name": "integration_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Ws2902UpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ws2902StatusResponse"
                }
              }
            },
            "description": "Integration updated"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/api/weather-stations/ws-2902/{integration_id}/rotate-token": {
      "post": {
        "operationId": "rotate_ws2902_token",
        "parameters": [
          {
            "description": "Integration id",
            "in": "path",
            "name": "integration_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ws2902RotateTokenResponse"
                }
              }
            },
            "description": "Token rotated"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not found"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/api/ws/{token}": {
      "get": {
        "operationId": "ingest_ws_short",
        "parameters": [
          {
            "description": "Ingest token",
            "in": "path",
            "name": "token",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Upload accepted"
          },
          "403": {
            "description": "Integration disabled"
          },
          "404": {
            "description": "Unknown token"
          }
        },
        "tags": [
          "weather-stations"
        ]
      }
    },
    "/healthz": {
      "get": {
        "operationId": "healthz_handler",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            },
            "description": "OK"
          }
        },
        "tags": [
          "crate::routes::health"
        ]
      }
    }
  }
}